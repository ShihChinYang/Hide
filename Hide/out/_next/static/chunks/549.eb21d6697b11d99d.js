(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[549],{32993:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.FE.PLUGINS.align=function(t){return{apply:function(n){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();for(var a=t.selection.blocks(),i=0;i<a.length;i++)t.helpers.getAlignment(e(a[i].parentNode))==n?e(a[i]).css("text-align","").removeClass("fr-temp-div"):e(a[i]).css("text-align",n).removeClass("fr-temp-div"),""===e(a[i]).attr("class")&&e(a[i]).removeAttr("class"),""===e(a[i]).attr("style")&&e(a[i]).removeAttr("style");t.selection.save(),t.html.unwrap(),t.selection.restore()},refresh:function(n){var a=t.selection.blocks();if(a.length){var i=t.helpers.getAlignment(e(a[0]));n.find("> *:first").replaceWith(t.icon.create("align-"+i))}},refreshOnShow:function(n,a){var i=t.selection.blocks();if(i.length){var r=t.helpers.getAlignment(e(i[0]));a.find('a.fr-command[data-param1="'+r+'"]').addClass("fr-active").attr("aria-selected",!0)}}}},e.FE.DefineIcon("align",{NAME:"align-left"}),e.FE.DefineIcon("align-left",{NAME:"align-left"}),e.FE.DefineIcon("align-right",{NAME:"align-right"}),e.FE.DefineIcon("align-center",{NAME:"align-center"}),e.FE.DefineIcon("align-justify",{NAME:"align-justify"}),e.FE.RegisterCommand("align",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.align.options;for(var a in n)n.hasOwnProperty(a)&&(t+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="align" data-param1="'+a+'" title="'+this.language.translate(n[a])+'">'+this.icon.create("align-"+a)+'<span class="fr-sr-only">'+this.language.translate(n[a])+"</span></a></li>");return t+"</ul>"},callback:function(e,t){this.align.apply(t)},refresh:function(e){this.align.refresh(e)},refreshOnShow:function(e,t){this.align.refreshOnShow(e,t)},plugin:"align"})})?a.apply(t,i):a)&&(e.exports=r)},95970:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.DEFAULTS,{charCounterMax:-1,charCounterCount:!0}),e.FE.PLUGINS.charCounter=function(t){var n;function a(){return t.el.textContent.length}function i(n){if(t.opts.charCounterMax<0||a()<t.opts.charCounterMax)return!0;var i=n.which;return!(!t.keys.ctrlKey(n)&&t.keys.isCharacter(i)||i===e.FE.KEYCODE.IME)||(n.preventDefault(),n.stopPropagation(),t.events.trigger("charCounter.exceeded"),!1)}function r(n){return t.opts.charCounterMax<0?n:e("<div>").html(n).text().length+a()<=t.opts.charCounterMax?n:(t.events.trigger("charCounter.exceeded"),"")}function s(){if(t.opts.charCounterCount){var e=a()+(t.opts.charCounterMax>0?"/"+t.opts.charCounterMax:"");n.text(e),t.opts.toolbarBottom&&n.css("margin-bottom",t.$tb.outerHeight(!0));var i=t.$wp.get(0).offsetWidth-t.$wp.get(0).clientWidth;i>=0&&("rtl"==t.opts.direction?n.css("margin-left",i):n.css("margin-right",i))}}return{_init:function(){return!!t.$wp&&!!t.opts.charCounterCount&&((n=e('<span class="fr-counter"></span>')).css("bottom",t.$wp.css("border-bottom-width")),t.$box.append(n),t.events.on("keydown",i,!0),t.events.on("paste.afterCleanup",r),t.events.on("keyup contentChanged input",function(){t.events.trigger("charCounter.update")}),t.events.on("charCounter.update",s),t.events.trigger("charCounter.update"),void t.events.on("destroy",function(){e(t.o_win).off("resize.char"+t.id),n.removeData().remove(),n=null}))},count:a}}})?a.apply(t,i):a)&&(e.exports=r)},90195:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.FE.PLUGINS.codeBeautifier=function(){function e(e,t){function n(){return(m=e.charAt(++v))||""}function a(t){var a="",i=v;return t&&r(),a=e.charAt(v+1)||"",v=i-1,n(),a}function i(t){for(var a=v;n();)if("\\"===m)n();else if(-1!==t.indexOf(m)||"\n"===m)break;return e.substring(a,v+1)}function r(){for(var e="";_.test(a());)n(),e+=m;return e}function s(t){var i=v;for(t="/"===a(),n();n();){if(!t&&"*"===m&&"/"===a()){n();break}if(t&&"\n"===m)return e.substring(i,v)}return e.substring(i,v)+m}function o(t){return e.substring(v-t.length,v).toLowerCase()===t}var l={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},c={"@media":!0,"@supports":!0,"@document":!0};t=t||{},e=(e=e||"").replace(/\r\n|[\r\u2028\u2029]/g,"\n");var f=t.indent_size||4,p=t.indent_char||" ",d=void 0===t.selector_separator_newline||t.selector_separator_newline,h=void 0!==t.end_with_newline&&t.end_with_newline,u=void 0===t.newline_between_rules||t.newline_between_rules,g=t.eol?t.eol:"\n";"string"==typeof f&&(f=parseInt(f,10)),t.indent_with_tabs&&(p="	",f=1),g=g.replace(/\\r/,"\r").replace(/\\n/,"\n");var m,_=/^\s+$/,v=-1,b=0,E=e.match(/^[\t ]*/)[0],w=Array(f+1).join(p),k=0,C=0,T={};T["{"]=function(e){T.singleSpace(),y.push(e),T.newLine()},T["}"]=function(e){T.newLine(),y.push(e),T.newLine()},T._lastCharWhitespace=function(){return _.test(y[y.length-1])},T.newLine=function(e){y.length&&(e||"\n"===y[y.length-1]||T.trim(),y.push("\n"),E&&y.push(E))},T.singleSpace=function(){y.length&&!T._lastCharWhitespace()&&y.push(" ")},T.preserveSingleSpace=function(){N&&T.singleSpace()},T.trim=function(){for(;T._lastCharWhitespace();)y.pop()};for(var y=[],x=!1,R=!1,A=!1,S="",O="";;){var F=function(){var e="";for(m&&_.test(m)&&(e=m);_.test(n());)e+=m;return e}(),N=""!==F,D=-1!==F.indexOf("\n");if(O=S,S=m,!m)break;if("/"===m&&"*"===a()){var I=0===k;(D||I)&&T.newLine(),y.push(s()),T.newLine(),I&&T.newLine(!0)}else if("/"===m&&"/"===a())D||"{"===O||T.trim(),T.singleSpace(),y.push(s()),T.newLine();else if("@"===m){T.preserveSingleSpace(),y.push(m);var K=function(e){var t=v,a=i(e);return v=t-1,n(),a}(": ,;{}()[]/='\"");K.match(/[ :]$/)&&(n(),K=i(": ").replace(/\s$/,""),y.push(K),T.singleSpace()),(K=K.replace(/\s$/,""))in l&&(C+=1,K in c&&(A=!0))}else"#"===m&&"{"===a()?(T.preserveSingleSpace(),y.push(i("}"))):"{"===m?"}"===a(!0)?(r(),n(),T.singleSpace(),y.push("{}"),T.newLine(),u&&0===k&&T.newLine(!0)):(k++,E+=w,T["{"](m),A?(A=!1,x=k>C):x=k>=C):"}"===m?(k--,E=E.slice(0,-f),T["}"](m),x=!1,R=!1,C&&C--,u&&0===k&&T.newLine(!0)):":"===m?(r(),!x&&!A||o("&")||function(){for(var t=0,n=v+1;n<e.length;n++){var a=e.charAt(n);if("{"===a)return!0;if("("===a)t+=1;else if(")"===a){if(0==t)return!1;t-=1}else if(";"===a||"}"===a)break}return!1}()?":"===a()?(n(),y.push("::")):y.push(":"):(R=!0,y.push(":"),T.singleSpace())):'"'===m||"'"===m?(T.preserveSingleSpace(),y.push(i(m))):";"===m?(R=!1,y.push(m),T.newLine()):"("===m?o("url")?(y.push(m),r(),n()&&(")"!==m&&'"'!==m&&"'"!==m?y.push(i(")")):v--)):(b++,T.preserveSingleSpace(),y.push(m),r()):")"===m?(y.push(m),b--):","===m?(y.push(m),r(),d&&!R&&b<1?T.newLine():T.singleSpace()):("]"===m||("["===m?T.preserveSingleSpace():"="===m?(r(),m="="):T.preserveSingleSpace()),y.push(m))}var L="";return E&&(L+=E),L+=y.join("").replace(/[\r\n\t ]+$/,""),h&&(L+="\n"),"\n"!=g&&(L=L.replace(/[\n]/g,g)),L}function t(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}function n(e){return e.replace(/^\s+|\s+$/g,"")}function a(e,t){return new i(e,t).beautify()}function i(e,a){function i(e,t){var n=0;return e&&(n=e.indentation_level,!T.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level)),{mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:T.get_line_number(),ternary_depth:0}}function r(e){var t=e.newlines;if(L.keep_array_indentation&&m(F.mode))for(n=0;n<t;n+=1)c(n>0);else if(L.max_preserve_newlines&&t>L.max_preserve_newlines&&(t=L.max_preserve_newlines),L.preserve_newlines&&e.newlines>1){c();for(var n=1;n<t;n+=1)c(!0)}K[(R=e).type]()}function l(e){e=void 0!==e&&e,!T.just_added_newline()&&(L.preserve_newlines&&R.wanted_newline||e?c(!1,!0):L.wrap_line_length&&T.current_line.get_character_count()+R.text.length+(T.space_before_token?1:0)>=L.wrap_line_length&&c(!1,!0))}function c(e,t){if(!t&&";"!==F.last_text&&","!==F.last_text&&"="!==F.last_text&&"TK_OPERATOR"!==A)for(;F.mode===d.Statement&&!F.if_block&&!F.do_block;)v();T.add_new_line(e)&&(F.multiline_frame=!0)}function f(){T.just_added_newline()&&(L.keep_array_indentation&&m(F.mode)&&R.wanted_newline?(T.current_line.push(R.whitespace_before),T.space_before_token=!1):T.set_indent(F.indentation_level)&&(F.line_indent_level=F.indentation_level))}function h(e){if(T.raw)return void T.add_raw_token(R);L.comma_first&&"TK_COMMA"===A&&T.just_added_newline()&&","===T.previous_line.last()&&(T.previous_line.pop(),f(),T.add_token(","),T.space_before_token=!0),e=e||R.text,f(),T.add_token(e)}function u(){F.indentation_level+=1}function g(e){F?(D.push(F),N=F):N=i(null,e),F=i(N,e)}function m(e){return e===d.ArrayLiteral}function _(e){return t(e,[d.Expression,d.ForInitializer,d.Conditional])}function v(){D.length>0&&(N=F,F=D.pop(),N.mode===d.Statement&&T.remove_redundant_indentation(N))}function b(){return F.parent.mode===d.ObjectLiteral&&F.mode===d.Statement&&(":"===F.last_text&&0===F.ternary_depth||"TK_RESERVED"===A&&t(F.last_text,["get","set"]))}function E(){return!!("TK_RESERVED"===A&&t(F.last_text,["var","let","const"])&&"TK_WORD"===R.type||"TK_RESERVED"===A&&"do"===F.last_text||"TK_RESERVED"===A&&"return"===F.last_text&&!R.wanted_newline||"TK_RESERVED"===A&&"else"===F.last_text&&("TK_RESERVED"!==R.type||"if"!==R.text)||"TK_END_EXPR"===A&&(N.mode===d.ForInitializer||N.mode===d.Conditional)||"TK_WORD"===A&&F.mode===d.BlockStatement&&!F.in_case&&"--"!==R.text&&"++"!==R.text&&"function"!==S&&"TK_WORD"!==R.type&&"TK_RESERVED"!==R.type||F.mode===d.ObjectLiteral&&(":"===F.last_text&&0===F.ternary_depth||"TK_RESERVED"===A&&t(F.last_text,["get","set"])))&&(g(d.Statement),u(),"TK_RESERVED"===A&&t(F.last_text,["var","let","const"])&&"TK_WORD"===R.type&&(F.declaration_statement=!0),b()||l("TK_RESERVED"===R.type&&t(R.text,["do","for","if","while"])),!0)}function w(e){return t(e,["case","return","do","if","throw","else"])}function k(e){var t=y+(e||0);return t<0||t>=M.length?null:M[t]}function C(){if("TK_RESERVED"===R.type&&F.mode!==d.ObjectLiteral&&t(R.text,["set","get"])&&(R.type="TK_WORD"),"TK_RESERVED"===R.type&&F.mode===d.ObjectLiteral&&":"==k(1).text&&(R.type="TK_WORD"),E()||!R.wanted_newline||_(F.mode)||"TK_OPERATOR"===A&&"--"!==F.last_text&&"++"!==F.last_text||"TK_EQUALS"===A||!L.preserve_newlines&&"TK_RESERVED"===A&&t(F.last_text,["var","let","const","set","get"])||c(),F.do_block&&!F.do_while){if("TK_RESERVED"===R.type&&"while"===R.text)return T.space_before_token=!0,h(),T.space_before_token=!0,void(F.do_while=!0);c(),F.do_block=!1}if(F.if_block){if(F.else_block||"TK_RESERVED"!==R.type||"else"!==R.text){for(;F.mode===d.Statement;)v();F.if_block=!1,F.else_block=!1}else F.else_block=!0}return"TK_RESERVED"===R.type&&("case"===R.text||"default"===R.text&&F.in_case_statement)?(c(),(F.case_body||L.jslint_happy)&&(F.indentation_level>0&&(!F.parent||F.indentation_level>F.parent.indentation_level)&&(F.indentation_level-=1),F.case_body=!1),h(),F.in_case=!0,void(F.in_case_statement=!0)):("TK_RESERVED"!==R.type||"function"!==R.text||((t(F.last_text,["}",";"])||T.just_added_newline()&&!t(F.last_text,["[","{",":","=",","]))&&(T.just_added_blankline()||R.comments_before.length||(c(),c(!0))),"TK_RESERVED"===A||"TK_WORD"===A?"TK_RESERVED"===A&&t(F.last_text,["get","set","new","return","export","async"])?T.space_before_token=!0:"TK_RESERVED"===A&&"default"===F.last_text&&"export"===S?T.space_before_token=!0:c():"TK_OPERATOR"===A||"="===F.last_text?T.space_before_token=!0:!F.multiline_frame&&(_(F.mode)||m(F.mode))||c()),"TK_COMMA"!==A&&"TK_START_EXPR"!==A&&"TK_EQUALS"!==A&&"TK_OPERATOR"!==A||b()||l(),"TK_RESERVED"===R.type&&t(R.text,["function","get","set"]))?(h(),void(F.last_word=R.text)):void((I="NONE","TK_END_BLOCK"===A?"TK_RESERVED"===R.type&&t(R.text,["else","catch","finally"])?"expand"===L.brace_style||"end-expand"===L.brace_style||"none"===L.brace_style&&R.wanted_newline?I="NEWLINE":(I="SPACE",T.space_before_token=!0):I="NEWLINE":"TK_SEMICOLON"===A&&F.mode===d.BlockStatement?I="NEWLINE":"TK_SEMICOLON"===A&&_(F.mode)?I="SPACE":"TK_STRING"===A?I="NEWLINE":"TK_RESERVED"===A||"TK_WORD"===A||"*"===F.last_text&&"function"===S?I="SPACE":"TK_START_BLOCK"===A?I="NEWLINE":"TK_END_EXPR"===A&&(T.space_before_token=!0,I="NEWLINE"),"TK_RESERVED"===R.type&&t(R.text,x.line_starters)&&")"!==F.last_text&&(I="else"===F.last_text||"export"===F.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===R.type&&t(R.text,["else","catch","finally"]))?"TK_END_BLOCK"!==A||"expand"===L.brace_style||"end-expand"===L.brace_style||"none"===L.brace_style&&R.wanted_newline?c():(T.trim(!0),"}"!==T.current_line.last()&&c(),T.space_before_token=!0):"NEWLINE"===I?"TK_RESERVED"===A&&w(F.last_text)?T.space_before_token=!0:"TK_END_EXPR"!==A?"TK_START_EXPR"===A&&"TK_RESERVED"===R.type&&t(R.text,["var","let","const"])||":"===F.last_text||("TK_RESERVED"===R.type&&"if"===R.text&&"else"===F.last_text?T.space_before_token=!0:c()):"TK_RESERVED"===R.type&&t(R.text,x.line_starters)&&")"!==F.last_text&&c():F.multiline_frame&&m(F.mode)&&","===F.last_text&&"}"===S?c():"SPACE"===I&&(T.space_before_token=!0),h(),F.last_word=R.text,"TK_RESERVED"===R.type&&"do"===R.text&&(F.do_block=!0),"TK_RESERVED"===R.type&&"if"===R.text&&(F.if_block=!0))}var T,y,x,R,A,S,O,F,N,D,I,K,L,M=[],B="";for(K={TK_START_EXPR:function(){E();var e=d.Expression;if("["===R.text){if("TK_WORD"===A||")"===F.last_text)return"TK_RESERVED"===A&&t(F.last_text,x.line_starters)&&(T.space_before_token=!0),g(e),h(),u(),void(L.space_in_paren&&(T.space_before_token=!0));e=d.ArrayLiteral,m(F.mode)&&("["!==F.last_text&&(","!==F.last_text||"]"!==S&&"}"!==S)||L.keep_array_indentation||c())}else"TK_RESERVED"===A&&"for"===F.last_text?e=d.ForInitializer:"TK_RESERVED"===A&&t(F.last_text,["if","while"])&&(e=d.Conditional);";"===F.last_text||"TK_START_BLOCK"===A?c():"TK_END_EXPR"===A||"TK_START_EXPR"===A||"TK_END_BLOCK"===A||"."===F.last_text?l(R.wanted_newline):"TK_RESERVED"===A&&"("===R.text||"TK_WORD"===A||"TK_OPERATOR"===A?"TK_RESERVED"===A&&("function"===F.last_word||"typeof"===F.last_word)||"*"===F.last_text&&"function"===S?L.space_after_anon_function&&(T.space_before_token=!0):"TK_RESERVED"!==A||!t(F.last_text,x.line_starters)&&"catch"!==F.last_text||L.space_before_conditional&&(T.space_before_token=!0):T.space_before_token=!0,"("===R.text&&"TK_RESERVED"===A&&"await"===F.last_word&&(T.space_before_token=!0),"("===R.text&&("TK_EQUALS"!==A&&"TK_OPERATOR"!==A||b()||l()),g(e),h(),L.space_in_paren&&(T.space_before_token=!0),u()},TK_END_EXPR:function(){for(;F.mode===d.Statement;)v();F.multiline_frame&&l("]"===R.text&&m(F.mode)&&!L.keep_array_indentation),L.space_in_paren&&("TK_START_EXPR"!==A||L.space_in_empty_paren?T.space_before_token=!0:(T.trim(),T.space_before_token=!1)),"]"===R.text&&L.keep_array_indentation?(h(),v()):(v(),h()),T.remove_redundant_indentation(N),F.do_while&&N.mode===d.Conditional&&(N.mode=d.Expression,F.do_block=!1,F.do_while=!1)},TK_START_BLOCK:function(){var e=k(1),n=k(2);g(n&&(":"===n.text&&t(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||t(e.text,["get","set"])&&t(n.type,["TK_WORD","TK_RESERVED"]))?t(S,["class","interface"])?d.BlockStatement:d.ObjectLiteral:d.BlockStatement);var a=!e.comments_before.length&&"}"===e.text&&"function"===F.last_word&&"TK_END_EXPR"===A;"expand"===L.brace_style||"none"===L.brace_style&&R.wanted_newline?"TK_OPERATOR"!==A&&(a||"TK_EQUALS"===A||"TK_RESERVED"===A&&w(F.last_text)&&"else"!==F.last_text)?T.space_before_token=!0:c(!1,!0):"TK_OPERATOR"!==A&&"TK_START_EXPR"!==A?"TK_START_BLOCK"===A?c():T.space_before_token=!0:m(N.mode)&&","===F.last_text&&("}"===S?T.space_before_token=!0:c()),h(),u()},TK_END_BLOCK:function(){for(;F.mode===d.Statement;)v();var e="TK_START_BLOCK"===A;"expand"===L.brace_style?e||c():e||(m(F.mode)&&L.keep_array_indentation?(L.keep_array_indentation=!1,c(),L.keep_array_indentation=!0):c()),v(),h()},TK_WORD:C,TK_RESERVED:C,TK_SEMICOLON:function(){for(E()&&(T.space_before_token=!1);F.mode===d.Statement&&!F.if_block&&!F.do_block;)v();h()},TK_STRING:function(){E()?T.space_before_token=!0:"TK_RESERVED"===A||"TK_WORD"===A?T.space_before_token=!0:"TK_COMMA"===A||"TK_START_EXPR"===A||"TK_EQUALS"===A||"TK_OPERATOR"===A?b()||l():c(),h()},TK_EQUALS:function(){E(),F.declaration_statement&&(F.declaration_assignment=!0),T.space_before_token=!0,h(),T.space_before_token=!0},TK_OPERATOR:function(){if(E(),"TK_RESERVED"===A&&w(F.last_text))return T.space_before_token=!0,void h();if("*"===R.text&&"TK_DOT"===A)return void h();if(":"===R.text&&F.in_case)return F.case_body=!0,u(),h(),c(),void(F.in_case=!1);if("::"===R.text)return void h();"TK_OPERATOR"===A&&l();var e=!0,n=!0;t(R.text,["--","++","!","~"])||t(R.text,["-","+"])&&(t(A,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||t(F.last_text,x.line_starters)||","===F.last_text)?(e=!1,n=!1,R.wanted_newline&&("--"===R.text||"++"===R.text)&&c(!1,!0),";"===F.last_text&&_(F.mode)&&(e=!0),"TK_RESERVED"===A?e=!0:"TK_END_EXPR"===A?e=!("]"===F.last_text&&("--"===R.text||"++"===R.text)):"TK_OPERATOR"===A&&(e=t(R.text,["--","-","++","+"])&&t(F.last_text,["--","-","++","+"]),t(R.text,["+","-"])&&t(F.last_text,["--","++"])&&(n=!0)),F.mode!==d.BlockStatement&&F.mode!==d.Statement||"{"!==F.last_text&&";"!==F.last_text||c()):":"===R.text?0===F.ternary_depth?e=!1:F.ternary_depth-=1:"?"===R.text?F.ternary_depth+=1:"*"===R.text&&"TK_RESERVED"===A&&"function"===F.last_text&&(e=!1,n=!1),T.space_before_token=T.space_before_token||e,h(),T.space_before_token=n},TK_COMMA:function(){if(F.declaration_statement)return _(F.parent.mode)&&(F.declaration_assignment=!1),h(),void(F.declaration_assignment?(F.declaration_assignment=!1,c(!1,!0)):(T.space_before_token=!0,L.comma_first&&l()));h(),F.mode===d.ObjectLiteral||F.mode===d.Statement&&F.parent.mode===d.ObjectLiteral?(F.mode===d.Statement&&v(),c()):(T.space_before_token=!0,L.comma_first&&l())},TK_BLOCK_COMMENT:function(){if(T.raw)return T.add_raw_token(R),void(R.directives&&"end"===R.directives.preserve&&(L.test_output_raw||(T.raw=!1)));if(R.directives)return c(!1,!0),h(),"start"===R.directives.preserve&&(T.raw=!0),void c(!1,!0);if(!p.newline.test(R.text)&&!R.wanted_newline)return T.space_before_token=!0,h(),void(T.space_before_token=!0);var e,t=function(e){e=e.replace(/\x0d/g,"");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),n=(e=e.substring(n+1)).indexOf("\n");return e.length&&t.push(e),t}(R.text),a=!1,i=!1,r=R.whitespace_before,s=r.length;for(c(!1,!0),t.length>1&&(function(e,t){for(var a=0;a<e.length;a++)if("*"!==n(e[a]).charAt(0))return!1;return!0}(t.slice(1),0)?a=!0:function(e,t){for(var n,a=0,i=e.length;a<i;a++)if((n=e[a])&&0!==n.indexOf(t))return!1;return!0}(t.slice(1),r)&&(i=!0)),h(t[0]),e=1;e<t.length;e++)c(!1,!0),a?h(" "+t[e].replace(/^\s+/g,"")):i&&t[e].length>s?h(t[e].substring(s)):T.add_token(t[e]);c(!1,!0)},TK_COMMENT:function(){R.wanted_newline?c(!1,!0):T.trim(!0),T.space_before_token=!0,h(),c(!1,!0)},TK_DOT:function(){E(),"TK_RESERVED"===A&&w(F.last_text)?T.space_before_token=!0:l(")"===F.last_text&&L.break_chained_methods),h()},TK_UNKNOWN:function(){h(),"\n"===R.text[R.text.length-1]&&c()},TK_EOF:function(){for(;F.mode===d.Statement;)v()}},L={},void 0!==(a=a||{}).braces_on_own_line&&(L.brace_style=a.braces_on_own_line?"expand":"collapse"),L.brace_style=a.brace_style?a.brace_style:L.brace_style?L.brace_style:"collapse","expand-strict"===L.brace_style&&(L.brace_style="expand"),L.indent_size=a.indent_size?parseInt(a.indent_size,10):4,L.indent_char=a.indent_char?a.indent_char:" ",L.eol=a.eol?a.eol:"\n",L.preserve_newlines=void 0===a.preserve_newlines||a.preserve_newlines,L.break_chained_methods=void 0!==a.break_chained_methods&&a.break_chained_methods,L.max_preserve_newlines=void 0===a.max_preserve_newlines?0:parseInt(a.max_preserve_newlines,10),L.space_in_paren=void 0!==a.space_in_paren&&a.space_in_paren,L.space_in_empty_paren=void 0!==a.space_in_empty_paren&&a.space_in_empty_paren,L.jslint_happy=void 0!==a.jslint_happy&&a.jslint_happy,L.space_after_anon_function=void 0!==a.space_after_anon_function&&a.space_after_anon_function,L.keep_array_indentation=void 0!==a.keep_array_indentation&&a.keep_array_indentation,L.space_before_conditional=void 0===a.space_before_conditional||a.space_before_conditional,L.unescape_strings=void 0!==a.unescape_strings&&a.unescape_strings,L.wrap_line_length=void 0===a.wrap_line_length?0:parseInt(a.wrap_line_length,10),L.e4x=void 0!==a.e4x&&a.e4x,L.end_with_newline=void 0!==a.end_with_newline&&a.end_with_newline,L.comma_first=void 0!==a.comma_first&&a.comma_first,L.test_output_raw=void 0!==a.test_output_raw&&a.test_output_raw,L.jslint_happy&&(L.space_after_anon_function=!0),a.indent_with_tabs&&(L.indent_char="	",L.indent_size=1),L.eol=L.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),O="";L.indent_size>0;)O+=L.indent_char,L.indent_size-=1;var $=0;if(e&&e.length){for(;" "===e.charAt($)||"	"===e.charAt($);)B+=e.charAt($),$+=1;e=e.substring($)}A="TK_START_BLOCK",S="",(T=new s(O,B)).raw=L.test_output_raw,D=[],g(d.BlockStatement),this.beautify=function(){var t,n;for(M=(x=new o(e,L,O)).tokenize(),y=0;t=k();){for(var a=0;a<t.comments_before.length;a++)r(t.comments_before[a]);r(t),S=F.last_text,A=t.type,F.last_text=t.text,y+=1}return n=T.get_code(),L.end_with_newline&&(n+="\n"),"\n"!=L.eol&&(n=n.replace(/[\n]/g,L.eol)),n}}function r(e){var t=0,n=-1,a=[],i=!0;this.set_indent=function(a){t=e.baseIndentLength+a*e.indent_length,n=a},this.get_character_count=function(){return t},this.is_empty=function(){return i},this.last=function(){return this._empty?null:a[a.length-1]},this.push=function(e){a.push(e),t+=e.length,i=!1},this.pop=function(){var e=null;return i||(e=a.pop(),t-=e.length,i=0===a.length),e},this.remove_indent=function(){n>0&&(n-=1,t-=e.indent_length)},this.trim=function(){for(;" "===this.last();)a.pop(),t-=1;i=0===a.length},this.toString=function(){var t="";return this._empty||(n>=0&&(t=e.indent_cache[n]),t+=a.join("")),t}}function s(e,t){t=t||"",this.indent_cache=[t],this.baseIndentLength=t.length,this.indent_length=e.length,this.raw=!1;var n=[];this.baseIndentString=t,this.indent_string=e,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new r(this),n.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return n.length},this.add_new_line=function(e){return(1!==this.get_line_number()||!this.just_added_newline())&&!(!e&&this.just_added_newline())&&(this.raw||this.add_outputline(),!0)},this.get_code=function(){return n.join("\n").replace(/[\r\n\t ]+$/,"")},this.set_indent=function(e){if(n.length>1){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_redundant_indentation=function(e){if(!e.multiline_frame&&e.mode!==d.ForInitializer&&e.mode!==d.Conditional)for(var t=e.start_line_index,a=n.length;t<a;)n[t].remove_indent(),t++},this.trim=function(a){for(a=void 0!==a&&a,this.current_line.trim(e,t);a&&n.length>1&&this.current_line.is_empty();)n.pop(),this.current_line=n[n.length-1],this.current_line.trim();this.previous_line=n.length>1?n[n.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===n.length||n[n.length-2].is_empty())}}function o(e,a,i){function r(){var i,r,x=[];if(d=0,u="",_>=v)return["","TK_EOF"];i=m.length?m[m.length-1]:new h("TK_START_BLOCK","{");var R=e.charAt(_);for(_+=1;t(R,s);){if(p.newline.test(R)?"\n"===R&&"\r"===e.charAt(_-2)||(d+=1,x=[]):x.push(R),_>=v)return["","TK_EOF"];R=e.charAt(_),_+=1}if(x.length&&(u=x.join("")),o.test(R)){var A=!0,S=!0,O=o;for("0"===R&&_<v&&/[Xxo]/.test(e.charAt(_))?(A=!1,S=!1,R+=e.charAt(_),_+=1,O=/[o]/.test(e.charAt(_))?l:c):(R="",_-=1);_<v&&O.test(e.charAt(_));)R+=e.charAt(_),_+=1,A&&_<v&&"."===e.charAt(_)&&(R+=e.charAt(_),_+=1,A=!1),S&&_<v&&/[Ee]/.test(e.charAt(_))&&(R+=e.charAt(_),(_+=1)<v&&/[+-]/.test(e.charAt(_))&&(R+=e.charAt(_),_+=1),S=!1,A=!1);return[R,"TK_WORD"]}if(p.isIdentifierStart(e.charCodeAt(_-1))){if(_<v)for(;p.isIdentifierChar(e.charCodeAt(_))&&(R+=e.charAt(_),(_+=1)!==v););return"TK_DOT"===i.type||"TK_RESERVED"===i.type&&t(i.text,["set","get"])||!t(R,b)?[R,"TK_WORD"]:"in"===R?[R,"TK_OPERATOR"]:[R,"TK_RESERVED"]}if("("===R||"["===R)return[R,"TK_START_EXPR"];if(")"===R||"]"===R)return[R,"TK_END_EXPR"];if("{"===R)return[R,"TK_START_BLOCK"];if("}"===R)return[R,"TK_END_BLOCK"];if(";"===R)return[R,"TK_SEMICOLON"];if("/"===R){var F="";if("*"===e.charAt(_)){_+=1,E.lastIndex=_;var N=E.exec(e);F="/*"+N[0],_+=N[0].length;var D=function(e){if(!e.match(k))return null;var t={};C.lastIndex=0;for(var n=C.exec(e);n;)t[n[1]]=n[2],n=C.exec(e);return t}(F);return D&&"start"===D.ignore&&(T.lastIndex=_,F+=(N=T.exec(e))[0],_+=N[0].length),[F=F.replace(p.lineBreak,"\n"),"TK_BLOCK_COMMENT",D]}if("/"===e.charAt(_)){_+=1,w.lastIndex=_;var N=w.exec(e);return F="//"+N[0],_+=N[0].length,[F,"TK_COMMENT"]}}if("`"===R||"'"===R||'"'===R||("/"===R||a.e4x&&"<"===R&&e.slice(_-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&("TK_RESERVED"===i.type&&t(i.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===i.type&&")"===i.text&&i.parent&&"TK_RESERVED"===i.parent.type&&t(i.parent.text,["if","while","for"])||t(i.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var I=R,K=!1,L=!1;if(r=R,"/"===I)for(var M=!1;_<v&&(K||M||e.charAt(_)!==I)&&!p.newline.test(e.charAt(_));)r+=e.charAt(_),K?K=!1:(K="\\"===e.charAt(_),"["===e.charAt(_)?M=!0:"]"===e.charAt(_)&&(M=!1)),_+=1;else if(a.e4x&&"<"===I){var B=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,$=e.slice(_-1),P=B.exec($);if(P&&0===P.index){for(var W=P[2],U=0;P;){var z=!!P[1],H=P[2],V=!!P[P.length-1]||"![CDATA["===H.slice(0,8);if(H!==W||V||(z?--U:++U),U<=0)break;P=B.exec($)}var Y=P?P.index+P[0].length:$.length;return $=$.slice(0,Y),_+=Y-1,[$=$.replace(p.lineBreak,"\n"),"TK_STRING"]}}else for(;_<v&&(K||e.charAt(_)!==I&&("`"===I||!p.newline.test(e.charAt(_))));)(K||"`"===I)&&p.newline.test(e.charAt(_))?("\r"===e.charAt(_)&&"\n"===e.charAt(_+1)&&(_+=1),r+="\n"):r+=e.charAt(_),K?("x"!==e.charAt(_)&&"u"!==e.charAt(_)||(L=!0),K=!1):K="\\"===e.charAt(_),_+=1;if(L&&a.unescape_strings&&(r=function(e){for(var t,n=!1,a="",i=0,r="",s=0;n||i<e.length;)if(t=e.charAt(i),i++,n){if(n=!1,"x"===t)r=e.substr(i,2),i+=2;else{if("u"!==t){a+="\\"+t;continue}r=e.substr(i,4),i+=4}if(!r.match(/^[0123456789abcdefABCDEF]+$/))return e;if((s=parseInt(r,16))>=0&&s<32){a+="x"===t?"\\x"+r:"\\u"+r;continue}if(34===s||39===s||92===s)a+="\\"+String.fromCharCode(s);else{if("x"===t&&s>126&&s<=255)return e;a+=String.fromCharCode(s)}}else"\\"===t?n=!0:a+=t;return a}(r)),_<v&&e.charAt(_)===I&&(r+=I,_+=1,"/"===I))for(;_<v&&p.isIdentifierStart(e.charCodeAt(_));)r+=e.charAt(_),_+=1;return[r,"TK_STRING"]}if("#"===R){if(0===m.length&&"!"===e.charAt(_)){for(r=R;_<v&&"\n"!==R;)r+=R=e.charAt(_),_+=1;return[n(r)+"\n","TK_UNKNOWN"]}var j="#";if(_<v&&o.test(e.charAt(_))){do j+=R=e.charAt(_),_+=1;while(_<v&&"#"!==R&&"="!==R);return"#"===R||("["===e.charAt(_)&&"]"===e.charAt(_+1)?(j+="[]",_+=2):"{"===e.charAt(_)&&"}"===e.charAt(_+1)&&(j+="{}",_+=2)),[j,"TK_WORD"]}}if("<"===R&&("?"===e.charAt(_)||"%"===e.charAt(_))){y.lastIndex=_-1;var G=y.exec(e);if(G)return R=G[0],_+=R.length-1,[R=R.replace(p.lineBreak,"\n"),"TK_STRING"]}if("<"===R&&"<!--"===e.substring(_-1,_+3)){for(_+=3,R="<!--";!p.newline.test(e.charAt(_))&&_<v;)R+=e.charAt(_),_++;return g=!0,[R,"TK_COMMENT"]}if("-"===R&&g&&"-->"===e.substring(_-1,_+2))return g=!1,_+=2,["-->","TK_COMMENT"];if("."===R)return[R,"TK_DOT"];if(t(R,f)){for(;_<v&&t(R+e.charAt(_),f)&&(R+=e.charAt(_),!((_+=1)>=v)););return","===R?[R,"TK_COMMA"]:"="===R?[R,"TK_EQUALS"]:[R,"TK_OPERATOR"]}return[R,"TK_UNKNOWN"]}var s="\n\r	 ".split(""),o=/[0-9]/,l=/[01234567]/,c=/[0123456789abcdefABCDEF]/,f="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! ~ , : ? ^ ^= |= :: =>".split(" ");this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var d,u,g,m,_,v,b=this.line_starters.concat(["do","in","else","get","set","new","catch","finally","typeof","yield","async","await"]),E=/([\s\S]*?)((?:\*\/)|$)/g,w=/([^\n\r\u2028\u2029]*)/g,k=/\/\* beautify( \w+[:]\w+)+ \*\//g,C=/ (\w+)[:](\w+)/g,T=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,y=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;this.tokenize=function(){v=e.length,_=0,g=!1,m=[];for(var t,n,a,i=null,s=[],o=[];!n||"TK_EOF"!==n.type;){for(t=new h((a=r())[1],a[0],d,u);"TK_COMMENT"===t.type||"TK_BLOCK_COMMENT"===t.type||"TK_UNKNOWN"===t.type;)"TK_BLOCK_COMMENT"===t.type&&(t.directives=a[2]),o.push(t),t=new h((a=r())[1],a[0],d,u);o.length&&(t.comments_before=o,o=[]),"TK_START_BLOCK"===t.type||"TK_START_EXPR"===t.type?(t.parent=n,s.push(i),i=t):("TK_END_BLOCK"===t.type||"TK_END_EXPR"===t.type)&&i&&("]"===t.text&&"["===i.text||")"===t.text&&"("===i.text||"}"===t.text&&"{"===i.text)&&(t.parent=i.parent,i=s.pop()),m.push(t),n=t}return m}}var l,c,f,p={};c=RegExp("["+(l="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ")+"]"),f=RegExp("["+l+"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"),p.newline=/[\n\r\u2028\u2029]/,p.lineBreak=RegExp("\r\n|"+p.newline.source),p.allLineBreaks=RegExp(p.lineBreak.source,"g"),p.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||e>=170&&c.test(String.fromCharCode(e)))},p.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&f.test(String.fromCharCode(e))))};var d={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},h=function(e,t,n,a,i,r){this.type=e,this.text=t,this.comments_before=[],this.newlines=n||0,this.wanted_newline=n>0,this.whitespace_before=a||"",this.parent=null,this.directives=null};return{run:function(t,n){function i(e){return e.replace(/\s+$/g,"")}for(void 0!==(n=n||{}).wrap_line_length&&0!==parseInt(n.wrap_line_length,10)||void 0===n.max_char||0===parseInt(n.max_char,10)||(n.wrap_line_length=n.max_char),f=void 0!==n.indent_inner_html&&n.indent_inner_html,p=void 0===n.indent_size?4:parseInt(n.indent_size,10),d=void 0===n.indent_char?" ":n.indent_char,u=void 0===n.brace_style?"collapse":n.brace_style,h=0===parseInt(n.wrap_line_length,10)?32786:parseInt(n.wrap_line_length||250,10),g=n.unformatted||["a","span","img","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","address","pre"],_=(m=void 0===n.preserve_newlines||n.preserve_newlines)?isNaN(parseInt(n.max_preserve_newlines,10))?32786:parseInt(n.max_preserve_newlines,10):0,v=void 0!==n.indent_handlebars&&n.indent_handlebars,b=void 0===n.wrap_attributes?"auto":n.wrap_attributes,E=void 0===n.wrap_attributes_indent_size?p:parseInt(n.wrap_attributes_indent_size,10)||p,w=void 0!==n.end_with_newline&&n.end_with_newline,k=Array.isArray(n.extra_liners)?n.extra_liners.concat():"string"==typeof n.extra_liners?n.extra_liners.split(","):"head,body,/html".split(","),n.indent_with_tabs&&(d="	",p=1),(c=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=f,this.Utils={whitespace:"\n\r	 ".split(""),single_token:"br,input,link,meta,source,!doctype,basefont,base,area,hr,wbr,param,img,isindex,embed".split(","),extra_liners:k,in_array:function(e,t){for(var n=0;n<t.length;n++)if(e==t[n])return!0;return!1}},this.is_whitespace=function(e){for(;0<e.length;e++)if(!this.Utils.in_array(e.charAt(0),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)m&&"\n"==e&&this.newlines<=_&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e)):(this.line_char_count++,e.push(" "))},this.get_content=function(){for(var e="",t=[];"<"!=this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(t);else{if(v){var n=this.input.substr(this.pos,3);if("{{#"==n||"{{/"==n)break;if("{{!"==n)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"==this.input.substr(this.pos,2)&&"{{else}}"==this.get_tag(!0))break}e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos==this.input.length)return["","TK_EOF"];var t="",n=RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var a=n.exec(this.input),i=a?a.index:this.input.length;return this.pos<i&&(t=this.input.substring(this.pos,i),this.pos=i),t},this.record_tag=function(e){this.tags[e+"count"]?this.tags[e+"count"]++:this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level,this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!=t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1==this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!=t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,n,a="",i=[],r="",s=!1,o=!0,l=this.pos,c=this.line_char_count;e=void 0!==e&&e;do{if(this.pos>=this.input.length)return e&&(this.pos=l,this.line_char_count=c),i.length?i.join(""):["","TK_EOF"];if(a=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(a,this.Utils.whitespace))s=!0;else{if("'"!=a&&'"'!=a||(a+=this.get_unformatted(a),s=!0),"="==a&&(s=!1),i.length&&"="!=i[i.length-1]&&">"!=a&&s){if(this.space_or_wrap(i),s=!1,!o&&"force"==b&&"/"!=a){this.print_newline(!0,i),this.print_indentation(i);for(var f=0;f<E;f++)i.push(d)}for(var p=0;p<i.length;p++)if(" "==i[p]){o=!1;break}}if(v&&"<"==n&&a+this.input.charAt(this.pos)=="{{"&&(a+=this.get_unformatted("}}"),i.length&&" "!=i[i.length-1]&&"<"!=i[i.length-1]&&(a=" "+a),s=!0),"<"!=a||n||(t=this.pos-1,n="<"),v&&!n&&i.length>=2&&"{"==i[i.length-1]&&"{"==i[i.length-2]&&(t="#"==a||"/"==a||"!"==a?this.pos-3:this.pos-2,n="{"),this.line_char_count++,i.push(a),i[1]&&("!"==i[1]||"?"==i[1]||"%"==i[1])||v&&i[1]&&"{"==i[1]&&i[2]&&"!"==i[2]){i=[this.get_comment(t)];break}if(v&&"{"==n&&i.length>2&&"}"==i[i.length-2]&&"}"==i[i.length-1])break}}while(">"!=a);var h,u,m=i.join("");h=-1!=m.indexOf(" ")?m.indexOf(" "):"{"==m[0]?m.indexOf("}"):m.indexOf(">"),u="<"!=m[0]&&v?"#"==m[2]?3:2:1;var _=m.substring(u,h).toLowerCase();return"/"==m.charAt(m.length-2)||this.Utils.in_array(_,this.Utils.single_token)?e||(this.tag_type="SINGLE"):v&&"{"==m[0]&&"else"==_?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(_,g)?(r=this.get_unformatted("</"+_+">",m),i.push(r),this.pos,this.tag_type="SINGLE"):"script"==_&&(-1==m.search("type")||m.search("type")>-1&&m.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/)>-1)?e||(this.record_tag(_),this.tag_type="SCRIPT"):"style"==_&&(-1==m.search("type")||m.search("type")>-1&&m.search("text/css")>-1)?e||(this.record_tag(_),this.tag_type="STYLE"):"!"==_.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"==_.charAt(0)?(this.retrieve_tag(_.substring(1)),this.tag_type="END"):(this.record_tag(_),"html"!=_.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(i),this.Utils.in_array(_,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!=this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=l,this.line_char_count=c),i.join("")},this.get_comment=function(e){var t="",n=">",a=!1;this.pos=e;var i=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((t+=i)[t.length-1]!=n[n.length-1]||-1==t.indexOf(n));)!a&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",a=!0):0===t.indexOf("<![cdata[")?(n="]]>",a=!0):0===t.indexOf("<![")?(n="]>",a=!0):0===t.indexOf("<!--")?(n="-->",a=!0):0===t.indexOf("{{!")?(n="}}",a=!0):0===t.indexOf("<?")?(n="?>",a=!0):0===t.indexOf("<%")&&(n="%>",a=!0)),i=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&-1!=t.toLowerCase().indexOf(e))return"";var n="",a="",i=0,r=!0;do{if(this.pos>=this.input.length)break;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!r){this.line_char_count--;continue}if("\n"==n||"\r"==n){a+="\n",this.line_char_count=0;continue}}a+=n,this.line_char_count++,r=!0,v&&"{"==n&&a.length&&"{"==a[a.length-2]&&(a+=this.get_unformatted("}}"),i=a.length)}while(-1==a.toLowerCase().indexOf(e,i));return a},this.get_token=function(){var e;if("TK_TAG_SCRIPT"==this.last_token||"TK_TAG_STYLE"==this.last_token){var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]}return"CONTENT"==this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"==this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!=e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var n=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(n&&!this.Utils.in_array(n,t))},this.printer=function(e,t,n,a,r){this.input=e||"",this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=n,this.brace_style=r,this.indent_level=0,this.wrap_line_length=a,this.line_char_count=0;for(var s=0;s<this.indent_size;s++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){this.line_char_count=0,t&&t.length&&(e||"\n"!=t[t.length-1])&&("\n"!=t[t.length-1]&&(t[t.length-1]=i(t[t.length-1])),t.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){this.is_whitespace(e)&&!this.output.length||((e||""!==e)&&this.output.length&&"\n"==this.output[this.output.length-1]&&(this.print_indentation(this.output),e=e.replace(/^\s+/g,"")),this.print_token_raw(e))},this.print_token_raw=function(e){this.newlines>0&&(e=i(e)),e&&""!==e&&(e.length>1&&"\n"==e[e.length-1]?(this.output.push(e.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(e));for(var t=0;t<this.newlines;t++)this.print_newline(t>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}).printer(t,d,p,h,u);;){var r=c.get_token();if(c.token_text=r[0],c.token_type=r[1],"TK_EOF"==c.token_type)break;switch(c.token_type){case"TK_TAG_START":c.print_newline(!1,c.output),c.print_token(c.token_text),c.indent_content&&(c.indent(),c.indent_content=!1),c.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":c.print_newline(!1,c.output),c.print_token(c.token_text),c.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"==c.last_token&&""===c.last_text){var s=c.token_text.match(/\w+/)[0],o=null;c.output.length&&(o=c.output[c.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),null!=o&&(o[1]==s||c.Utils.in_array(o[1],g))||c.print_newline(!1,c.output)}c.print_token(c.token_text),c.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var l=c.token_text.match(/^\s*<([a-z-]+)/i);l&&c.Utils.in_array(l[1],g)||c.print_newline(!1,c.output),c.print_token(c.token_text),c.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":c.print_token(c.token_text),c.indent_content&&(c.indent(),c.indent_content=!1),c.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":c.print_token(c.token_text),c.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==c.token_text){c.print_newline(!1,c.output);var c,f,p,d,h,u,g,m,_,v,b,E,w,k,C,T=c.token_text,y=1;"TK_SCRIPT"==c.token_type?C=a:"TK_STYLE"==c.token_type&&(C=e),"keep"==n.indent_scripts?y=0:"separate"==n.indent_scripts&&(y=-c.indent_level);var x=c.get_full_indent(y);if(C)T=C(T.replace(/^\s*/,x),n);else{var R=T.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(c.indent_string).length-1,A=c.get_full_indent(y-R);T=T.replace(/^\s*/,x).replace(/\r\n|\r|\n/g,"\n"+A).replace(/\s+$/,"")}T&&(c.print_token_raw(T),c.print_newline(!0,c.output))}c.current_mode="TAG";break;default:""!==c.token_text&&c.print_token(c.token_text)}c.last_token=c.token_type,c.last_text=c.token_text}var S=c.output.join("").replace(/[\r\n\t ]+$/,"");return w&&(S+="\n"),S}}}})?a.apply(t,i):a)&&(e.exports=r)},65452:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.DEFAULTS,{codeMirror:window.CodeMirror,codeMirrorOptions:{lineNumbers:!0,tabMode:"indent",indentWithTabs:!0,lineWrapping:!0,mode:"text/html",tabSize:2},codeBeautifierOptions:{end_with_newline:!0,indent_inner_html:!0,extra_liners:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","ol","table","dl"],brace_style:"expand",indent_char:"	",indent_size:1,wrap_line_length:0},codeViewKeepActiveButtons:["fullscreen"]}),e.FE.PLUGINS.codeView=function(t){var n,a,i;function r(){return t.$box.hasClass("fr-code-view")}function s(){return a?a.getValue():n.val()}function o(c){void 0===c&&(c=!r());var f,p=t.$tb.find('.fr-command[data-cmd="html"]');c?(t.popups.hideAll(),function(c){n||(n=e('<textarea class="fr-code" tabIndex="-1">'),t.$wp.append(n),n.attr("dir",t.opts.direction),t.$box.hasClass("fr-basic")||(i=e('<a data-cmd="html" title="Code View" class="fr-command fr-btn html-switch'+(t.helpers.isMobile()?"":" fr-desktop")+'" role="button" tabIndex="-1"><i class="fa fa-code"></i></button>'),t.$box.append(i),t.events.bindClick(t.$box,"a.html-switch",function(){o(!1)})),f=function(){return!r()},t.events.on("buttons.refresh",f),t.events.on("copy",f,!0),t.events.on("cut",f,!0),t.events.on("paste",f,!0),t.events.on("destroy",l,!0),t.events.on("html.set",function(){r()&&o(!0)}),t.events.on("form.submit",function(){r()&&(t.html.set(s()),t.events.trigger("contentChanged",[],!0))},!0),!a&&t.opts.codeMirror?a=t.opts.codeMirror.fromTextArea(n.get(0),t.opts.codeMirrorOptions):t.events.$on(n,"keydown keyup change input",function(){t.opts.height?this.removeAttribute("rows"):(this.rows=1,0===this.value.length?this.style.height="auto":this.style.height=this.scrollHeight+"px")})),t.undo.saveStep(),t.html.cleanEmptyTags(),t.html.cleanWhiteTags(!0),t.core.hasFocus()&&(t.core.isEmpty()||(t.selection.save(),t.$el.find('.fr-marker[data-type="true"]:first').replaceWith('<span class="fr-tmp fr-sm">F</span>'),t.$el.find('.fr-marker[data-type="false"]:last').replaceWith('<span class="fr-tmp fr-em">F</span>')));var f,p,d,h=t.html.get(!1,!0);if(t.$el.find("span.fr-tmp").remove(),t.$box.toggleClass("fr-code-view",!0),t.core.hasFocus()&&t.$el.blur(),h=(h=h.replace(/<span class="fr-tmp fr-sm">F<\/span>/,"FROALA-SM")).replace(/<span class="fr-tmp fr-em">F<\/span>/,"FROALA-EM"),t.codeBeautifier&&(h=t.codeBeautifier.run(h,t.opts.codeBeautifierOptions)),a){(p=h.indexOf("FROALA-SM"))>(d=h.indexOf("FROALA-EM"))?p=d:d-=9;var u=(h=h.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")).substring(0,p).length-h.substring(0,p).replace(/\n/g,"").length,g=h.substring(0,d).length-h.substring(0,d).replace(/\n/g,"").length;p=h.substring(0,p).length-h.substring(0,h.substring(0,p).lastIndexOf("\n")+1).length,d=h.substring(0,d).length-h.substring(0,h.substring(0,d).lastIndexOf("\n")+1).length,a.setSize(null,t.opts.height?t.opts.height:"auto"),t.opts.heightMin&&t.$box.find(".CodeMirror-scroll").css("min-height",t.opts.heightMin),a.setValue(h),a.focus(),a.setSelection({line:u,ch:p},{line:g,ch:d}),a.refresh(),a.clearHistory()}else{p=h.indexOf("FROALA-SM"),d=h.indexOf("FROALA-EM")-9,t.opts.heightMin&&n.css("min-height",t.opts.heightMin),t.opts.height&&n.css("height",t.opts.height),t.opts.heightMax&&n.css("max-height",t.opts.height||t.opts.heightMax),n.val(h.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")).trigger("change");var m=e(t.o_doc).scrollTop();n.focus(),n.get(0).setSelectionRange(p,d),e(t.o_doc).scrollTop(m)}t.$tb.find(" > .fr-command").not(c).filter(function(){return 0>t.opts.codeViewKeepActiveButtons.indexOf(e(this).data("cmd"))}).addClass("fr-disabled").attr("aria-disabled",!0),c.addClass("fr-active").attr("aria-pressed",!0),!t.helpers.isMobile()&&t.opts.toolbarInline&&t.toolbar.hide()}(p)):(t.$box.toggleClass("fr-code-view",!1),f=s(),t.html.set(f),t.$el.blur(),t.$tb.find(" > .fr-command").not(p).removeClass("fr-disabled").attr("aria-disabled",!1),p.removeClass("fr-active").attr("aria-pressed",!1),t.events.focus(!0),t.placeholder.refresh(),t.undo.saveStep())}function l(){r()&&o(!1),a&&a.toTextArea(),n.val("").removeData().remove(),n=null,i&&(i.remove(),i=null)}return{_init:function(){if(!t.$wp)return!1},toggle:o,isActive:r,get:s}},e.FE.RegisterCommand("html",{title:"Code View",undo:!1,focus:!1,forcedRefresh:!0,toggle:!0,callback:function(){this.codeView.toggle()},plugin:"codeView"}),e.FE.DefineIcon("html",{NAME:"code"})})?a.apply(t,i):a)&&(e.exports=r)},14884:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.POPUP_TEMPLATES,{"colors.picker":"[_BUTTONS_][_TEXT_COLORS_][_BACKGROUND_COLORS_]"}),e.extend(e.FE.DEFAULTS,{colorsText:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsBackground:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsStep:7,colorsDefaultTab:"text",colorsButtons:["colorsBack","|","-"]}),e.FE.PLUGINS.colors=function(t){function n(){t.popups.hide("colors.picker")}function a(e){for(var n="text"==e?t.opts.colorsText:t.opts.colorsBackground,a='<div class="fr-color-set fr-'+e+"-color"+(t.opts.colorsDefaultTab==e||"text"!=t.opts.colorsDefaultTab&&"background"!=t.opts.colorsDefaultTab&&"text"==e?" fr-selected-set":"")+'">',i=0;i<n.length;i++)0!==i&&i%t.opts.colorsStep==0&&(a+="<br>"),"REMOVE"!=n[i]?a+='<span class="fr-command fr-select-color" style="background: '+n[i]+';" tabIndex="-1" aria-selected="false" role="button" data-cmd="'+e+'Color" data-param1="'+n[i]+'"><span class="fr-sr-only">'+t.language.translate("Color")+" "+n[i]+"&nbsp;&nbsp;&nbsp;</span></span>":a+='<span class="fr-command fr-select-color" data-cmd="'+e+'Color" tabIndex="-1" role="button" data-param1="REMOVE" title="'+t.language.translate("Clear Formatting")+'">'+t.icon.create("remove")+'<span class="fr-sr-only">'+t.language.translate("Clear Formatting")+"</span></span>";return a+"</div>"}function i(n){var a,i=t.popups.get("colors.picker"),r=e(t.selection.element());a="background"==n?"background-color":"color";var s=i.find(".fr-"+n+"-color .fr-select-color");for(s.find(".fr-selected-color").remove(),s.removeClass("fr-active-item"),s.not('[data-param1="REMOVE"]').attr("aria-selected",!1);r.get(0)!=t.el;){if("transparent"!=r.css(a)&&"rgba(0, 0, 0, 0)"!=r.css(a)){var o=i.find(".fr-"+n+'-color .fr-select-color[data-param1="'+t.helpers.RGBToHex(r.css(a))+'"]');o.append('<span class="fr-selected-color" aria-hidden="true"></span>'),o.addClass("fr-active-item").attr("aria-selected",!0);break}r=r.parent()}}return{showColorsPopup:function(){var n,r,s,o,l,c=t.$tb.find('.fr-command[data-cmd="color"]'),f=t.popups.get("colors.picker");if(f||(n='<div class="fr-buttons fr-colors-buttons">',t.opts.toolbarInline&&t.opts.colorsButtons.length>0&&(n+=t.button.buildList(t.opts.colorsButtons)),s={buttons:n+='<div class="fr-colors-tabs fr-group">'+('<span class="fr-colors-tab '+("background"==t.opts.colorsDefaultTab?"":"fr-selected-tab ")+'fr-command" tabIndex="-1" role="button" aria-pressed="'+("background"!=t.opts.colorsDefaultTab)+'" data-param1="text" data-cmd="colorChangeSet" title="'+t.language.translate("Text")+'">'+t.language.translate("Text")+"</span>"+('<span class="fr-colors-tab '+("background"==t.opts.colorsDefaultTab?"fr-selected-tab ":"")+'fr-command" tabIndex="-1" role="button" aria-pressed="'+("background"==t.opts.colorsDefaultTab)+'" data-param1="background" data-cmd="colorChangeSet" title="'+t.language.translate("Background")+'">')+t.language.translate("Background"))+"</span></div></div>",text_colors:a("text"),background_colors:a("background")},l=o=t.popups.create("colors.picker",s),t.events.on("popup.tab",function(n){var a=e(n.currentTarget);if(!t.popups.isVisible("colors.picker")||!a.is("span"))return!0;var i=n.which,r=!0;if(e.FE.KEYCODE.TAB==i){var s=l.find(".fr-buttons");r=!t.accessibility.focusToolbar(s,!!n.shiftKey)}else if(e.FE.KEYCODE.ARROW_UP==i||e.FE.KEYCODE.ARROW_DOWN==i||e.FE.KEYCODE.ARROW_LEFT==i||e.FE.KEYCODE.ARROW_RIGHT==i){if(a.is("span.fr-select-color")){var o=a.parent().find("span.fr-select-color"),c=o.index(a),f=t.opts.colorsStep,p=Math.floor(o.length/f),d=Math.floor(c/f)*f+c%f,h=p*f;e.FE.KEYCODE.ARROW_UP==i?d=((d-f)%h+h)%h:e.FE.KEYCODE.ARROW_DOWN==i?d=(d+f)%h:e.FE.KEYCODE.ARROW_LEFT==i?d=((d-1)%h+h)%h:e.FE.KEYCODE.ARROW_RIGHT==i&&(d=(d+1)%h);var u=e(o.get(d));t.events.disableBlur(),u.focus(),r=!1}}else e.FE.KEYCODE.ENTER==i&&(t.button.exec(a),r=!1);return!1===r&&(n.preventDefault(),n.stopPropagation()),r},!0),f=o),!f.hasClass("fr-active")){if(t.popups.setContainer("colors.picker",t.$tb),i(f.find(".fr-selected-tab").attr("data-param1")),c.is(":visible")){var p=c.offset().left+c.outerWidth()/2,d=c.offset().top+(t.opts.toolbarBottom?10:c.outerHeight()-10);t.popups.show("colors.picker",p,d,c.outerHeight())}else t.position.forSelection(f),t.popups.show("colors.picker")}},hideColorsPopup:n,changeSet:function(e,n){e.hasClass("fr-selected-tab")||(e.siblings().removeClass("fr-selected-tab").attr("aria-pressed",!1),e.addClass("fr-selected-tab").attr("aria-pressed",!0),e.parents(".fr-popup").find(".fr-color-set").removeClass("fr-selected-set"),e.parents(".fr-popup").find(".fr-color-set.fr-"+n+"-color").addClass("fr-selected-set"),i(n)),t.accessibility.focusPopup(e.parents(".fr-popup"))},background:function(e){"REMOVE"!=e?t.format.applyStyle("background-color",t.helpers.HEXtoRGB(e)):t.format.removeStyle("background-color"),n()},text:function(e){"REMOVE"!=e?t.format.applyStyle("color",t.helpers.HEXtoRGB(e)):t.format.removeStyle("color"),n()},back:function(){t.popups.hide("colors.picker"),t.toolbar.showInline()}}},e.FE.DefineIcon("colors",{NAME:"tint"}),e.FE.RegisterCommand("color",{title:"Colors",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("colors.picker")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("colors.picker")):this.colors.showColorsPopup()},plugin:"colors"}),e.FE.RegisterCommand("textColor",{undo:!0,callback:function(e,t){this.colors.text(t)}}),e.FE.RegisterCommand("backgroundColor",{undo:!0,callback:function(e,t){this.colors.background(t)}}),e.FE.RegisterCommand("colorChangeSet",{undo:!1,focus:!1,callback:function(e,t){var n=this.popups.get("colors.picker").find('.fr-command[data-cmd="'+e+'"][data-param1="'+t+'"]');this.colors.changeSet(n,t)}}),e.FE.DefineIcon("colorsBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("colorsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.colors.back()}}),e.FE.DefineIcon("remove",{NAME:"eraser"})})?a.apply(t,i):a)&&(e.exports=r)},37863:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.POPUP_TEMPLATES,{emoticons:"[_BUTTONS_][_EMOTICONS_]"}),e.extend(e.FE.DEFAULTS,{emoticonsStep:8,emoticonsSet:[{code:"1f600",desc:"Grinning face"},{code:"1f601",desc:"Grinning face with smiling eyes"},{code:"1f602",desc:"Face with tears of joy"},{code:"1f603",desc:"Smiling face with open mouth"},{code:"1f604",desc:"Smiling face with open mouth and smiling eyes"},{code:"1f605",desc:"Smiling face with open mouth and cold sweat"},{code:"1f606",desc:"Smiling face with open mouth and tightly-closed eyes"},{code:"1f607",desc:"Smiling face with halo"},{code:"1f608",desc:"Smiling face with horns"},{code:"1f609",desc:"Winking face"},{code:"1f60a",desc:"Smiling face with smiling eyes"},{code:"1f60b",desc:"Face savoring delicious food"},{code:"1f60c",desc:"Relieved face"},{code:"1f60d",desc:"Smiling face with heart-shaped eyes"},{code:"1f60e",desc:"Smiling face with sunglasses"},{code:"1f60f",desc:"Smirking face"},{code:"1f610",desc:"Neutral face"},{code:"1f611",desc:"Expressionless face"},{code:"1f612",desc:"Unamused face"},{code:"1f613",desc:"Face with cold sweat"},{code:"1f614",desc:"Pensive face"},{code:"1f615",desc:"Confused face"},{code:"1f616",desc:"Confounded face"},{code:"1f617",desc:"Kissing face"},{code:"1f618",desc:"Face throwing a kiss"},{code:"1f619",desc:"Kissing face with smiling eyes"},{code:"1f61a",desc:"Kissing face with closed eyes"},{code:"1f61b",desc:"Face with stuck out tongue"},{code:"1f61c",desc:"Face with stuck out tongue and winking eye"},{code:"1f61d",desc:"Face with stuck out tongue and tightly-closed eyes"},{code:"1f61e",desc:"Disappointed face"},{code:"1f61f",desc:"Worried face"},{code:"1f620",desc:"Angry face"},{code:"1f621",desc:"Pouting face"},{code:"1f622",desc:"Crying face"},{code:"1f623",desc:"Persevering face"},{code:"1f624",desc:"Face with look of triumph"},{code:"1f625",desc:"Disappointed but relieved face"},{code:"1f626",desc:"Frowning face with open mouth"},{code:"1f627",desc:"Anguished face"},{code:"1f628",desc:"Fearful face"},{code:"1f629",desc:"Weary face"},{code:"1f62a",desc:"Sleepy face"},{code:"1f62b",desc:"Tired face"},{code:"1f62c",desc:"Grimacing face"},{code:"1f62d",desc:"Loudly crying face"},{code:"1f62e",desc:"Face with open mouth"},{code:"1f62f",desc:"Hushed face"},{code:"1f630",desc:"Face with open mouth and cold sweat"},{code:"1f631",desc:"Face screaming in fear"},{code:"1f632",desc:"Astonished face"},{code:"1f633",desc:"Flushed face"},{code:"1f634",desc:"Sleeping face"},{code:"1f635",desc:"Dizzy face"},{code:"1f636",desc:"Face without mouth"},{code:"1f637",desc:"Face with medical mask"}],emoticonsButtons:["emoticonsBack","|"],emoticonsUseImage:!0}),e.FE.PLUGINS.emoticons=function(t){function n(){if(!t.selection.isCollapsed())return!1;var e=t.selection.element(),n=t.selection.endElement();if(e&&t.node.hasClass(e,"fr-emoticon"))return e;if(n&&t.node.hasClass(n,"fr-emoticon"))return n;var a=t.selection.ranges(0),i=a.startContainer;if(i.nodeType==Node.ELEMENT_NODE&&i.childNodes.length>0&&a.startOffset>0){var r=i.childNodes[a.startOffset-1];if(t.node.hasClass(r,"fr-emoticon"))return r}return!1}return{_init:function(){var a=function(){for(var e=t.el.querySelectorAll(".fr-emoticon:not(.fr-deletable)"),n=0;n<e.length;n++)e[n].className+=" fr-deletable"};a(),t.events.on("html.set",a),t.events.on("keydown",function(a){if(t.keys.isCharacter(a.which)&&t.selection.inEditor()){var i=t.selection.ranges(0),r=n();t.node.hasClass(r,"fr-emoticon-img")&&r&&(0===i.startOffset&&t.selection.element()===r?e(r).before(e.FE.MARKERS+e.FE.INVISIBLE_SPACE):e(r).after(e.FE.INVISIBLE_SPACE+e.FE.MARKERS),t.selection.restore())}}),t.events.on("keyup",function(a){for(var i=t.el.querySelectorAll(".fr-emoticon"),r=0;r<i.length;r++)void 0!==i[r].textContent&&0===i[r].textContent.replace(/\u200B/gi,"").length&&e(i[r]).remove();if(!(a.which>=e.FE.KEYCODE.ARROW_LEFT&&a.which<=e.FE.KEYCODE.ARROW_DOWN)){var s=n();t.node.hasClass(s,"fr-emoticon-img")&&(e(s).append(e.FE.MARKERS),t.selection.restore())}})},insert:function(a,i){var r=n(),s=t.selection.ranges(0);r?(0===s.startOffset&&t.selection.element()===r?e(r).before(e.FE.MARKERS+e.FE.INVISIBLE_SPACE):s.startOffset>0&&t.selection.element()===r&&s.commonAncestorContainer.parentNode.classList.contains("fr-emoticon")&&e(r).after(e.FE.INVISIBLE_SPACE+e.FE.MARKERS),t.selection.restore(),t.html.insert('<span class="fr-emoticon fr-deletable'+(i?" fr-emoticon-img":"")+'"'+(i?' style="background: url('+i+');"':"")+">"+(i?"&nbsp;":a)+"</span>&nbsp;"+e.FE.MARKERS,!0)):t.html.insert('<span class="fr-emoticon fr-deletable'+(i?" fr-emoticon-img":"")+'"'+(i?' style="background: url('+i+');"':"")+">"+(i?"&nbsp;":a)+"</span>&nbsp;",!0)},showEmoticonsPopup:function(){var n,a,i,r=t.$tb.find('.fr-command[data-cmd="emoticons"]'),s=t.popups.get("emoticons");if(s||(n="",t.opts.toolbarInline&&t.opts.emoticonsButtons.length>0&&(n='<div class="fr-buttons fr-emoticons-buttons">'+t.button.buildList(t.opts.emoticonsButtons)+"</div>"),a={buttons:n,emoticons:function(){for(var e='<div style="text-align: center">',n=0;n<t.opts.emoticonsSet.length;n++)0!==n&&n%t.opts.emoticonsStep==0&&(e+="<br>"),e+='<span class="fr-command fr-emoticon" tabIndex="-1" data-cmd="insertEmoticon" title="'+t.language.translate(t.opts.emoticonsSet[n].desc)+'" role="button" data-param1="'+t.opts.emoticonsSet[n].code+'">'+(t.opts.emoticonsUseImage?'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'+t.opts.emoticonsSet[n].code+'.svg"/>':"&#x"+t.opts.emoticonsSet[n].code+";")+'<span class="fr-sr-only">'+t.language.translate(t.opts.emoticonsSet[n].desc)+"&nbsp;&nbsp;&nbsp;</span></span>";return t.opts.emoticonsUseImage&&(e+='<p style="font-size: 12px; text-align: center; padding: 0 5px;">Emoji free by <a class="fr-link" tabIndex="-1" href="http://emojione.com/" target="_blank" rel="nofollow" role="link" aria-label="Open Emoji One website.">Emoji One</a></p>'),e+="</div>"}()},i=t.popups.create("emoticons",a),t.tooltip.bind(i,".fr-emoticon"),t.events.on("popup.tab",function(n){var a=e(n.currentTarget);if(!t.popups.isVisible("emoticons")||!a.is("span, a"))return!0;var r,s,o,l=n.which;if(e.FE.KEYCODE.TAB==l){if(a.is("span.fr-emoticon")&&n.shiftKey||a.is("a")&&!n.shiftKey){var c=i.find(".fr-buttons");r=!t.accessibility.focusToolbar(c,!!n.shiftKey)}if(!1!==r){var f=i.find("span.fr-emoticon:focus:first, span.fr-emoticon:visible:first, a");a.is("span.fr-emoticon")&&(f=f.not("span.fr-emoticon:not(:focus)")),s=f.index(a),s=n.shiftKey?((s-1)%f.length+f.length)%f.length:(s+1)%f.length,o=f.get(s),t.events.disableBlur(),o.focus(),r=!1}}else if(e.FE.KEYCODE.ARROW_UP==l||e.FE.KEYCODE.ARROW_DOWN==l||e.FE.KEYCODE.ARROW_LEFT==l||e.FE.KEYCODE.ARROW_RIGHT==l){if(a.is("span.fr-emoticon")){var p=a.parent().find("span.fr-emoticon");s=p.index(a);var d=t.opts.emoticonsStep,h=Math.floor(p.length/d),u=s%d,g=Math.floor(s/d)*d+u,m=h*d;e.FE.KEYCODE.ARROW_UP==l?g=((g-d)%m+m)%m:e.FE.KEYCODE.ARROW_DOWN==l?g=(g+d)%m:e.FE.KEYCODE.ARROW_LEFT==l?g=((g-1)%m+m)%m:e.FE.KEYCODE.ARROW_RIGHT==l&&(g=(g+1)%m),o=e(p.get(g)),t.events.disableBlur(),o.focus(),r=!1}}else e.FE.KEYCODE.ENTER==l&&(a.is("a")?a[0].click():t.button.exec(a),r=!1);return!1===r&&(n.preventDefault(),n.stopPropagation()),r},!0),s=i),!s.hasClass("fr-active")){t.popups.refresh("emoticons"),t.popups.setContainer("emoticons",t.$tb);var o=r.offset().left+r.outerWidth()/2,l=r.offset().top+(t.opts.toolbarBottom?10:r.outerHeight()-10);t.popups.show("emoticons",o,l,r.outerHeight())}},hideEmoticonsPopup:function(){t.popups.hide("emoticons")},back:function(){t.popups.hide("emoticons"),t.toolbar.showInline()}}},e.FE.DefineIcon("emoticons",{NAME:"smile-o"}),e.FE.RegisterCommand("emoticons",{title:"Emoticons",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("emoticons")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("emoticons")):this.emoticons.showEmoticonsPopup()},plugin:"emoticons"}),e.FE.RegisterCommand("insertEmoticon",{callback:function(e,t){this.emoticons.insert("&#x"+t+";",this.opts.emoticonsUseImage?"https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/"+t+".svg":null),this.emoticons.hideEmoticonsPopup()}}),e.FE.DefineIcon("emoticonsBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("emoticonsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.emoticons.back()}})})?a.apply(t,i):a)&&(e.exports=r)},21342:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.DEFAULTS,{entities:"&quot;&#39;&iexcl;&cent;&pound;&curren;&yen;&brvbar;&sect;&uml;&copy;&ordf;&laquo;&not;&shy;&reg;&macr;&deg;&plusmn;&sup2;&sup3;&acute;&micro;&para;&middot;&cedil;&sup1;&ordm;&raquo;&frac14;&frac12;&frac34;&iquest;&Agrave;&Aacute;&Acirc;&Atilde;&Auml;&Aring;&AElig;&Ccedil;&Egrave;&Eacute;&Ecirc;&Euml;&Igrave;&Iacute;&Icirc;&Iuml;&ETH;&Ntilde;&Ograve;&Oacute;&Ocirc;&Otilde;&Ouml;&times;&Oslash;&Ugrave;&Uacute;&Ucirc;&Uuml;&Yacute;&THORN;&szlig;&agrave;&aacute;&acirc;&atilde;&auml;&aring;&aelig;&ccedil;&egrave;&eacute;&ecirc;&euml;&igrave;&iacute;&icirc;&iuml;&eth;&ntilde;&ograve;&oacute;&ocirc;&otilde;&ouml;&divide;&oslash;&ugrave;&uacute;&ucirc;&uuml;&yacute;&thorn;&yuml;&OElig;&oelig;&Scaron;&scaron;&Yuml;&fnof;&circ;&tilde;&Alpha;&Beta;&Gamma;&Delta;&Epsilon;&Zeta;&Eta;&Theta;&Iota;&Kappa;&Lambda;&Mu;&Nu;&Xi;&Omicron;&Pi;&Rho;&Sigma;&Tau;&Upsilon;&Phi;&Chi;&Psi;&Omega;&alpha;&beta;&gamma;&delta;&epsilon;&zeta;&eta;&theta;&iota;&kappa;&lambda;&mu;&nu;&xi;&omicron;&pi;&rho;&sigmaf;&sigma;&tau;&upsilon;&phi;&chi;&psi;&omega;&thetasym;&upsih;&piv;&ensp;&emsp;&thinsp;&zwnj;&zwj;&lrm;&rlm;&ndash;&mdash;&lsquo;&rsquo;&sbquo;&ldquo;&rdquo;&bdquo;&dagger;&Dagger;&bull;&hellip;&permil;&prime;&Prime;&lsaquo;&rsaquo;&oline;&frasl;&euro;&image;&weierp;&real;&trade;&alefsym;&larr;&uarr;&rarr;&darr;&harr;&crarr;&lArr;&uArr;&rArr;&dArr;&hArr;&forall;&part;&exist;&empty;&nabla;&isin;&notin;&ni;&prod;&sum;&minus;&lowast;&radic;&prop;&infin;&ang;&and;&or;&cap;&cup;&int;&there4;&sim;&cong;&asymp;&ne;&equiv;&le;&ge;&sub;&sup;&nsub;&sube;&supe;&oplus;&otimes;&perp;&sdot;&lceil;&rceil;&lfloor;&rfloor;&lang;&rang;&loz;&spades;&clubs;&hearts;&diams;"}),e.FE.PLUGINS.entities=function(t){var n,a;function i(e){var t=e.textContent;if(t.match(n)){for(var i="",r=0;r<t.length;r++)a[t[r]]?i+=a[t[r]]:i+=t[r];e.textContent=i}}function r(e){return 0===e.length?"":t.clean.exec(e,function e(n){if(n&&["STYLE","SCRIPT","svg","IFRAME"].indexOf(n.tagName)>=0)return!0;for(var a=t.node.contents(n),r=0;r<a.length;r++)a[r].nodeType==Node.TEXT_NODE?i(a[r]):e(a[r]);n.nodeType==Node.TEXT_NODE&&i(n)}).replace(/\&amp;/g,"&")}return{_init:function(){t.opts.htmlSimpleAmpersand||(t.opts.entities=t.opts.entities+"&amp;");var i=e("<div>").html(t.opts.entities).text(),s=t.opts.entities.split(";");a={},n="";for(var o=0;o<i.length;o++){var l=i.charAt(o);a[l]=s[o]+";",n+="\\"+l+(o<i.length-1?"|":"")}n=RegExp("("+n+")","g"),t.events.on("html.get",r,!0)}}}})?a.apply(t,i):a)&&(e.exports=r)},22683:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.DEFAULTS,{fontFamily:{"Arial,Helvetica,sans-serif":"Arial","Georgia,serif":"Georgia","Impact,Charcoal,sans-serif":"Impact","Tahoma,Geneva,sans-serif":"Tahoma","Times New Roman,Times,serif,-webkit-standard":"Times New Roman","Verdana,Geneva,sans-serif":"Verdana"},fontFamilySelection:!1,fontFamilyDefaultSelection:"Font Family"}),e.FE.PLUGINS.fontFamily=function(t){function n(t){var n=t.replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'| /g,"").split(",");return e.grep(n,function(e){return e.length>0})}function a(){var a=n(e(t.selection.element()).css("font-family")),i=[];for(var r in t.opts.fontFamily)if(t.opts.fontFamily.hasOwnProperty(r)){var s=function(e,t){for(var n=0;n<e.length;n++)for(var a=0;a<t.length;a++)if(e[n]==t[a])return[n,a];return null}(a,n(r));s&&i.push([r,s])}return 0===i.length?null:(i.sort(function(e,t){var n=e[1][0]-t[1][0];return 0===n?e[1][1]-t[1][1]:n}),i[0][0])}return{apply:function(e){t.format.applyStyle("font-family",e)},refreshOnShow:function(e,t){t.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),t.find('.fr-command[data-param1="'+a()+'"]').addClass("fr-active").attr("aria-selected",!0);var n=t.find(".fr-dropdown-list"),i=t.find(".fr-active").parent();i.length?n.parent().scrollTop(i.offset().top-n.offset().top-(n.parent().outerHeight()/2-i.outerHeight()/2)):n.parent().scrollTop(0)},refresh:function(n){if(t.opts.fontFamilySelection){var i=e(t.selection.element()).css("font-family").replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|'|/g,"").split(",");n.find("> span").text(t.opts.fontFamily[a()]||i[0]||t.language.translate(t.opts.fontFamilyDefaultSelection))}}}},e.FE.RegisterCommand("fontFamily",{type:"dropdown",displaySelection:function(e){return e.opts.fontFamilySelection},defaultSelection:function(e){return e.opts.fontFamilyDefaultSelection},displaySelectionWidth:120,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.fontFamily;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontFamily" data-param1="'+n+'" style="font-family: '+n+'" title="'+t[n]+'">'+t[n]+"</a></li>");return e+"</ul>"},title:"Font Family",callback:function(e,t){this.fontFamily.apply(t)},refresh:function(e){this.fontFamily.refresh(e)},refreshOnShow:function(e,t){this.fontFamily.refreshOnShow(e,t)},plugin:"fontFamily"}),e.FE.DefineIcon("fontFamily",{NAME:"font"})})?a.apply(t,i):a)&&(e.exports=r)},55137:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.DEFAULTS,{fontSize:["8","9","10","11","12","14","18","24","30","36","48","60","72","96"],fontSizeSelection:!1,fontSizeDefaultSelection:"12"}),e.FE.PLUGINS.fontSize=function(t){return{apply:function(e){t.format.applyStyle("font-size",e)},refreshOnShow:function(n,a){var i=e(t.selection.element()).css("font-size");a.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),a.find('.fr-command[data-param1="'+i+'"]').addClass("fr-active").attr("aria-selected",!0);var r=a.find(".fr-dropdown-list"),s=a.find(".fr-active").parent();s.length?r.parent().scrollTop(s.offset().top-r.offset().top-(r.parent().outerHeight()/2-s.outerHeight()/2)):r.parent().scrollTop(0)},refresh:function(n){if(t.opts.fontSizeSelection){var a=t.helpers.getPX(e(t.selection.element()).css("font-size"));n.find("> span").text(a)}}}},e.FE.RegisterCommand("fontSize",{type:"dropdown",title:"Font Size",displaySelection:function(e){return e.opts.fontSizeSelection},displaySelectionWidth:30,defaultSelection:function(e){return e.opts.fontSizeDefaultSelection},html:function(){for(var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.fontSize,n=0;n<t.length;n++){var a=t[n];e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontSize" data-param1="'+a+'px" title="'+a+'">'+a+"</a></li>"}return e+"</ul>"},callback:function(e,t){this.fontSize.apply(t)},refresh:function(e){this.fontSize.refresh(e)},refreshOnShow:function(e,t){this.fontSize.refreshOnShow(e,t)},plugin:"fontSize"}),e.FE.DefineIcon("fontSize",{NAME:"text-height"})})?a.apply(t,i):a)&&(e.exports=r)},8051:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.DEFAULTS,{inlineStyles:{"Big Red":"font-size: 20px; color: red;","Small Blue":"font-size: 14px; color: blue;"}}),e.FE.PLUGINS.inlineStyle=function(t){return{apply:function(n){""!==t.selection.text()?t.html.insert(e.FE.START_MARKER+'<span style="'+n+'">'+t.selection.text()+"</span>"+e.FE.END_MARKER):t.html.insert('<span style="'+n+'">'+e.FE.INVISIBLE_SPACE+e.FE.MARKERS+"</span>")}}},e.FE.RegisterCommand("inlineStyle",{type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.inlineStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><span style="'+t[n]+'" role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="inlineStyle" data-param1="'+t[n]+'" title="'+this.language.translate(n)+'">'+this.language.translate(n)+"</a></span></li>");return e+"</ul>"},title:"Inline Style",callback:function(e,t){this.inlineStyle.apply(t)},plugin:"inlineStyle"}),e.FE.DefineIcon("inlineStyle",{NAME:"paint-brush"})})?a.apply(t,i):a)&&(e.exports=r)},63982:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.DEFAULTS,{lineBreakerTags:["table","hr","form","dl","span.fr-video"],lineBreakerOffset:15,lineBreakerHorizontalOffset:10}),e.FE.PLUGINS.lineBreaker=function(t){var n,a,i;function r(e,a){var i,r,s,o,l,c,f,p;if(null==e)l=(o=a.parent()).offset().top,i=(f=a.offset().top)-Math.min((f-l)/2,t.opts.lineBreakerOffset),s=o.outerWidth(),r=o.offset().left;else if(null==a)c=(o=e.parent()).offset().top+o.outerHeight(),i=(p=e.offset().top+e.outerHeight())+Math.min((c-p)/2,t.opts.lineBreakerOffset),s=o.outerWidth(),r=o.offset().left;else{o=e.parent();var d=e.offset().top+e.height(),h=a.offset().top;if(d>h)return!1;i=(d+h)/2,s=o.outerWidth(),r=o.offset().left}t.opts.iframe&&(r+=t.$iframe.offset().left-t.helpers.scrollLeft(),i+=t.$iframe.offset().top-t.helpers.scrollTop()),t.$box.append(n),n.css("top",i-t.win.pageYOffset),n.css("left",r-t.win.pageXOffset),n.css("width",s),n.data("tag1",e),n.data("tag2",a),n.addClass("fr-visible").data("instance",t)}function s(n){if(n){var a=e(n);if(0===t.$el.find(a).length)return null;if(n.nodeType!=Node.TEXT_NODE&&a.is(t.opts.lineBreakerTags.join(",")))return a;if(a.parents(t.opts.lineBreakerTags.join(",")).length>0)return n=a.parents(t.opts.lineBreakerTags.join(",")).get(0),0!==t.$el.find(n).length&&e(n).is(t.opts.lineBreakerTags.join(","))?e(n):null}return null}function o(n,a){var i=t.doc.elementFromPoint(n,a);return i&&!e(i).closest(".fr-line-breaker").length&&!t.node.isElement(i)&&i!=t.$wp.get(0)&&e(i).closest(t.$wp).length?i:null}function l(e,n,a){for(var i=a,r=null;i<=t.opts.lineBreakerOffset&&!r;)(r=o(e,n-i))||(r=o(e,n+i)),i+=a;return r}function c(e,n,a){for(var i=null;!i&&e>t.$box.offset().left&&e<t.$box.offset().left+t.$box.outerWidth();)(i=o(e,n))||(i=l(e,n,5)),"left"==a?e-=t.opts.lineBreakerHorizontalOffset:e+=t.opts.lineBreakerHorizontalOffset;return i}function f(e){i=null;var a=null,o=null,f=t.doc.elementFromPoint(e.pageX-t.win.pageXOffset,e.pageY-t.win.pageYOffset);f&&("HTML"==f.tagName||"BODY"==f.tagName||t.node.isElement(f)||(f.getAttribute("class")||"").indexOf("fr-line-breaker")>=0)?((o=l(e.pageX-t.win.pageXOffset,e.pageY-t.win.pageYOffset,1))||(o=c(e.pageX-t.win.pageXOffset-t.opts.lineBreakerHorizontalOffset,e.pageY-t.win.pageYOffset,"left")),o||(o=c(e.pageX-t.win.pageXOffset+t.opts.lineBreakerHorizontalOffset,e.pageY-t.win.pageYOffset,"right")),a=s(o)):a=s(f),a?function(e,a){var i,o,l=e.offset().top,c=e.offset().top+e.outerHeight();if(Math.abs(c-a)<=t.opts.lineBreakerOffset||Math.abs(a-l)<=t.opts.lineBreakerOffset){if(Math.abs(c-a)<Math.abs(a-l)){o=e.get(0);for(var f=o.nextSibling;f&&f.nodeType==Node.TEXT_NODE&&0===f.textContent.length;)f=f.nextSibling;if(!f)return r(e,null),!0;if(i=s(f))return r(e,i),!0}else{if(!(o=e.get(0)).previousSibling)return r(null,e),!0;if(i=s(o.previousSibling))return r(i,e),!0}}n.removeClass("fr-visible").removeData("instance")}(a,e.pageY):t.core.sameInstance(n)&&n.removeClass("fr-visible").removeData("instance")}function p(e){return!(n.hasClass("fr-visible")&&!t.core.sameInstance(n))&&(t.popups.areVisible()||t.el.querySelector(".fr-selected-cell")?(n.removeClass("fr-visible"),!0):void(!1!==a||t.edit.isDisabled()||(i&&clearTimeout(i),i=setTimeout(f,30,e))))}function d(){i&&clearTimeout(i),n.hasClass("fr-visible")&&n.removeClass("fr-visible").removeData("instance")}function h(){a=!0,d()}function u(){a=!1}function g(a){if(!t.core.sameInstance(n))return!0;a.preventDefault(),n.removeClass("fr-visible").removeData("instance");var i=n.data("tag1"),r=n.data("tag2"),s=t.html.defaultTag();null==i?s&&"TD"!=r.parent().get(0).tagName&&0===r.parents(s).length?r.before("<"+s+">"+e.FE.MARKERS+"<br></"+s+">"):r.before(e.FE.MARKERS+"<br>"):s&&"TD"!=i.parent().get(0).tagName&&0===i.parents(s).length?i.after("<"+s+">"+e.FE.MARKERS+"<br></"+s+">"):i.after(e.FE.MARKERS+"<br>"),t.selection.restore()}return{_init:function(){if(!t.$wp)return!1;t.shared.$line_breaker||(t.shared.$line_breaker=e('<div class="fr-line-breaker"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+t.language.translate("Break")+'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><rect x="21" y="11" width="2" height="8"/><rect x="14" y="17" width="7" height="2"/><path d="M14.000,14.000 L14.000,22.013 L9.000,18.031 L14.000,14.000 Z"/></svg></a></div>')),n=t.shared.$line_breaker,t.events.on("shared.destroy",function(){n.html("").removeData().remove(),n=null},!0),t.events.on("destroy",function(){n.removeData("instance").removeClass("fr-visible").appendTo("body:first"),clearTimeout(i)},!0),t.events.$on(n,"mousemove",function(e){e.stopPropagation()},!0),t.events.$on(n,"mousedown","a",function(e){e.stopPropagation()},!0),t.events.$on(n,"click","a",g,!0),a=!1,t.events.$on(t.$win,"mousemove",p),t.events.$on(e(t.win),"scroll",d),t.events.on("popups.show.table.edit",d),t.events.on("commands.after",d),t.events.$on(e(t.win),"mousedown",h),t.events.$on(e(t.win),"mouseup",u)}}}})?a.apply(t,i):a)&&(e.exports=r)},76827:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.POPUP_TEMPLATES,{"link.edit":"[_BUTTONS_]","link.insert":"[_BUTTONS_][_INPUT_LAYER_]"}),e.extend(e.FE.DEFAULTS,{linkEditButtons:["linkOpen","linkStyle","linkEdit","linkRemove"],linkInsertButtons:["linkBack","|","linkList"],linkAttributes:{},linkAutoPrefix:"http://",linkStyles:{"fr-green":"Green","fr-strong":"Thick"},linkMultipleStyles:!0,linkConvertEmailAddress:!0,linkAlwaysBlank:!1,linkAlwaysNoFollow:!1,linkList:[{text:"Froala",href:"https://froala.com",target:"_blank"},{text:"Google",href:"https://google.com",target:"_blank"},{displayText:"Facebook",href:"https://facebook.com"}],linkText:!0}),e.FE.PLUGINS.link=function(t){function n(){var n=t.image?t.image.get():null;if(!n&&t.$wp){var a=t.selection.ranges(0).commonAncestorContainer;if(a&&(a.contains&&a.contains(t.el)||!t.el.contains(a)||t.el==a)&&(a=null),a&&"A"===a.tagName)return a;var i=t.selection.element(),r=t.selection.endElement();return"A"==i.tagName||t.node.isElement(i)||(i=e(i).parentsUntil(t.$el,"a:first").get(0)),"A"==r.tagName||t.node.isElement(r)||(r=e(r).parentsUntil(t.$el,"a:first").get(0)),r&&(r.contains&&r.contains(t.el)||!t.el.contains(r)||t.el==r)&&(r=null),i&&(i.contains&&i.contains(t.el)||!t.el.contains(i)||t.el==i)&&(i=null),r&&r==i&&"A"==r.tagName?i:null}return"A"==t.el.tagName?t.el:n&&n.get(0).parentNode&&"A"==n.get(0).parentNode.tagName?n.get(0).parentNode:void 0}function a(){var e,n,a,i,r=t.image?t.image.get():null,s=[];if(r)"A"==r.get(0).parentNode.tagName&&s.push(r.get(0).parentNode);else if(t.win.getSelection){var o=t.win.getSelection();if(o.getRangeAt&&o.rangeCount){i=t.doc.createRange();for(var l=0;l<o.rangeCount;++l)if((n=(e=o.getRangeAt(l)).commonAncestorContainer)&&1!=n.nodeType&&(n=n.parentNode),n&&"a"==n.nodeName.toLowerCase())s.push(n);else{a=n.getElementsByTagName("a");for(var c=0;c<a.length;++c)i.selectNodeContents(a[c]),1>i.compareBoundaryPoints(e.END_TO_START,e)&&i.compareBoundaryPoints(e.START_TO_END,e)>-1&&s.push(a[c])}}}else if(t.doc.selection&&"Control"!=t.doc.selection.type){if("a"==(n=(e=t.doc.selection.createRange()).parentElement()).nodeName.toLowerCase())s.push(n);else{a=n.getElementsByTagName("a"),i=t.doc.body.createTextRange();for(var f=0;f<a.length;++f)i.moveToElementText(a[f]),i.compareEndPoints("StartToEnd",e)>-1&&1>i.compareEndPoints("EndToStart",e)&&s.push(a[f])}}return s}function i(a){if(t.core.hasFocus()){if(r(),a&&"keyup"===a.type&&(a.altKey||a.which==e.FE.KEYCODE.ALT))return!0;setTimeout(function(){if(!a||a&&(1==a.which||"mouseup"!=a.type)){var i=n(),r=t.image?t.image.get():null;if(i&&!r){if(t.image){var s=t.node.contents(i);if(1==s.length&&"IMG"==s[0].tagName){var o=t.selection.ranges(0);return 0===o.startOffset&&0===o.endOffset?e(i).before(e.FE.MARKERS):e(i).after(e.FE.MARKERS),t.selection.restore(),!1}}a&&a.stopPropagation(),function a(i){var r,s,o,l=t.popups.get("link.edit");l||(r="",t.opts.linkEditButtons.length>1&&("A"==t.el.tagName&&t.opts.linkEditButtons.indexOf("linkRemove")>=0&&t.opts.linkEditButtons.splice(t.opts.linkEditButtons.indexOf("linkRemove"),1),r='<div class="fr-buttons">'+t.button.buildList(t.opts.linkEditButtons)+"</div>"),s={buttons:r},o=t.popups.create("link.edit",s),t.$wp&&t.events.$on(t.$wp,"scroll.link-edit",function(){n()&&t.popups.isVisible("link.edit")&&a(n())}),l=o);var c=e(i);t.popups.isVisible("link.edit")||t.popups.refresh("link.edit"),t.popups.setContainer("link.edit",t.$sc);var f=c.offset().left+e(i).outerWidth()/2,p=c.offset().top+c.outerHeight();t.popups.show("link.edit",f,p,c.outerHeight())}(i)}}},t.helpers.isIOS()?100:0)}}function r(){t.popups.hide("link.edit")}function s(){}function o(){var a=t.popups.get("link.insert"),i=n();if(i){var r,s,o=e(i),l=a.find('input.fr-link-attr[type="text"]'),c=a.find('input.fr-link-attr[type="checkbox"]');for(r=0;r<l.length;r++)(s=e(l[r])).val(o.attr(s.attr("name")||""));for(c.prop("checked",!1),r=0;r<c.length;r++)s=e(c[r]),o.attr(s.attr("name"))==s.data("checked")&&s.prop("checked",!0);a.find('input.fr-link-attr[type="text"][name="text"]').val(o.text())}else a.find('input.fr-link-attr[type="text"]').val(""),a.find('input.fr-link-attr[type="checkbox"]').prop("checked",!1),a.find('input.fr-link-attr[type="text"][name="text"]').val(t.selection.text());a.find("input.fr-link-attr").trigger("change"),(t.image?t.image.get():null)?a.find('.fr-link-attr[name="text"]').parent().hide():a.find('.fr-link-attr[name="text"]').parent().show()}function l(e){if(e)return t.popups.onRefresh("link.insert",o),t.popups.onHide("link.insert",s),!0;var a="";t.opts.linkInsertButtons.length>=1&&(a='<div class="fr-buttons">'+t.button.buildList(t.opts.linkInsertButtons)+"</div>");var i="",r=0;for(var l in i='<div class="fr-link-insert-layer fr-layer fr-active" id="fr-link-insert-layer-'+t.id+'">'+('<div class="fr-input-line"><input id="fr-link-insert-layer-url-'+t.id+'" name="href" type="text" class="fr-link-attr" placeholder="URL" tabIndex="')+ ++r+'"></div>',t.opts.linkText&&(i+='<div class="fr-input-line"><input id="fr-link-insert-layer-text-'+t.id+'" name="text" type="text" class="fr-link-attr" placeholder="'+t.language.translate("Text")+'" tabIndex="'+ ++r+'"></div>'),t.opts.linkAttributes)if(t.opts.linkAttributes.hasOwnProperty(l)){var c=t.opts.linkAttributes[l];i+='<div class="fr-input-line"><input name="'+l+'" type="text" class="fr-link-attr" placeholder="'+t.language.translate(c)+'" tabIndex="'+ ++r+'"></div>'}t.opts.linkAlwaysBlank||(i+='<div class="fr-checkbox-line"><span class="fr-checkbox"><input name="target" class="fr-link-attr" data-checked="_blank" type="checkbox" id="fr-link-target-'+t.id+'" tabIndex="'+ ++r+'"><span><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg></span></span><label for="fr-link-target-'+t.id+'">'+t.language.translate("Open in new tab")+"</label></div>");var d={buttons:a,input_layer:i+='<div class="fr-action-buttons"><button class="fr-command fr-submit" role="button" data-cmd="linkInsert" href="#" tabIndex="'+ ++r+'" type="button">'+t.language.translate("Insert")+"</button></div></div>"},h=t.popups.create("link.insert",d);return t.$wp&&t.events.$on(t.$wp,"scroll.link-insert",function(){(t.image?t.image.get():null)&&t.popups.isVisible("link.insert")&&p(),n&&t.popups.isVisible("link.insert")&&f()}),h}function c(r,s,o){if(void 0===o&&(o={}),!1===t.events.trigger("link.beforeInsert",[r,s,o]))return!1;var l=t.image?t.image.get():null;l||"A"==t.el.tagName?"A"==t.el.tagName&&t.$el.focus():(t.selection.restore(),t.popups.hide("link.insert"));var c=r;if(t.opts.linkConvertEmailAddress&&e.FE.MAIL_REGEX.test(r)&&!/^mailto:.*/i.test(r)&&(r="mailto:"+r),""===t.opts.linkAutoPrefix||/^(mailto|tel|sms|notes|data):.*/i.test(r)||/^data:image.*/i.test(r)||/^(https?:|ftps?:|file:|)\/\//i.test(r)||/^([A-Za-z]:(\\){1,2}|[A-Za-z]:((\\){1,2}[^\\]+)+)(\\)?$/i.test(r)||0>["/","{","[","#","("].indexOf((r||"")[0])&&(r=t.opts.linkAutoPrefix+r),r=t.helpers.sanitizeURL(r),t.opts.linkAlwaysBlank&&(o.target="_blank"),t.opts.linkAlwaysNoFollow&&(o.rel="nofollow"),"_blank"==o.target?o.rel?o.rel+=" noopener noreferrer":o.rel="noopener noreferrer":null==o.target&&(o.rel?o.rel=o.rel.replace(/noopener/,"").replace(/noreferrer/,""):o.rel=null),s=s||"",r===t.opts.linkAutoPrefix)return t.popups.get("link.insert").find('input[name="href"]').addClass("fr-error"),t.events.trigger("link.bad",[c]),!1;var f,p=n();if(p)(f=e(p)).attr("href",r),s.length>0&&f.text()!=s&&!l&&f.text(s),l||f.prepend(e.FE.START_MARKER).append(e.FE.END_MARKER),f.attr(o),l||t.selection.restore();else{l?l.wrap('<a href="'+r+'"></a>'):(t.format.remove("a"),t.selection.isCollapsed()?(s=0===s.length?c:s,t.html.insert('<a href="'+r+'">'+e.FE.START_MARKER+s+e.FE.END_MARKER+"</a>"),t.selection.restore()):s.length>0&&s!=t.selection.text().replace(/\n/g,"")?(t.selection.remove(),t.html.insert('<a href="'+r+'">'+e.FE.START_MARKER+s+e.FE.END_MARKER+"</a>"),t.selection.restore()):(function(){if(!t.selection.isCollapsed()){t.selection.save();for(var n=t.$el.find(".fr-marker").addClass("fr-unprocessed").toArray();n.length;){var a=e(n.pop());a.removeClass("fr-unprocessed");var i=t.node.deepestParent(a.get(0));if(i){var r=a.get(0),s="",o="";do r=r.parentNode,t.node.isBlock(r)||(s+=t.node.closeTagString(r),o=t.node.openTagString(r)+o);while(r!=i);var l=t.node.openTagString(a.get(0))+a.html()+t.node.closeTagString(a.get(0));a.replaceWith('<span id="fr-break"></span>');var c=i.outerHTML;c=c.replace(/<span id="fr-break"><\/span>/g,s+l+o),i.outerHTML=c}n=t.$el.find(".fr-marker.fr-unprocessed").toArray()}t.html.cleanEmptyTags(),t.selection.restore()}}(),t.format.apply("a",{href:r})));for(var d=a(),h=0;h<d.length;h++)(f=e(d[h])).attr(o),f.removeAttr("_moz_dirty");1==d.length&&t.$wp&&!l&&(e(d[0]).prepend(e.FE.START_MARKER).append(e.FE.END_MARKER),t.selection.restore())}l?(t.popups.get("link.insert").find("input:focus").blur(),t.image.edit(l)):i()}function f(){r();var a=n();if(a){var i=t.popups.get("link.insert");i||(i=l()),t.popups.isVisible("link.insert")||(t.popups.refresh("link.insert"),t.selection.save(),t.helpers.isMobile()&&(t.events.disableBlur(),t.$el.blur(),t.events.enableBlur())),t.popups.setContainer("link.insert",t.$sc);var s=(t.image?t.image.get():null)||e(a),o=s.offset().left+s.outerWidth()/2,c=s.offset().top+s.outerHeight();t.popups.show("link.insert",o,c,s.outerHeight())}}function p(){var e=t.image?t.image.get():null;if(e){var n=t.popups.get("link.insert");n||(n=l()),o(!0),t.popups.setContainer("link.insert",t.$sc);var a=e.offset().left+e.outerWidth()/2,i=e.offset().top+e.outerHeight();t.popups.show("link.insert",a,i,e.outerHeight())}}return{_init:function(){t.events.on("keyup",function(t){t.which!=e.FE.KEYCODE.ESC&&i(t)}),t.events.on("window.mouseup",i),t.events.$on(t.$el,"click","a",function(e){t.edit.isDisabled()&&e.preventDefault()}),t.helpers.isMobile()&&t.events.$on(t.$doc,"selectionchange",i),l(!0),"A"==t.el.tagName&&t.$el.addClass("fr-view"),t.events.on("toolbar.esc",function(){if(t.popups.isVisible("link.edit"))return t.events.disableBlur(),t.events.focus(),!1},!0)},remove:function(){var a=n(),i=t.image?t.image.get():null;if(!1===t.events.trigger("link.beforeRemove",[a]))return!1;i&&a?(i.unwrap(),t.image.edit(i)):a&&(t.selection.save(),e(a).replaceWith(e(a).html()),t.selection.restore(),r())},showInsertPopup:function(){var e=t.$tb.find('.fr-command[data-cmd="insertLink"]'),n=t.popups.get("link.insert");if(n||(n=l()),!n.hasClass("fr-active")){if(t.popups.refresh("link.insert"),t.popups.setContainer("link.insert",t.$tb||t.$sc),e.is(":visible")){var a=e.offset().left+e.outerWidth()/2,i=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("link.insert",a,i,e.outerHeight())}else t.position.forSelection(n),t.popups.show("link.insert")}},usePredefined:function(n){var a,i,r=t.opts.linkList[n],s=t.popups.get("link.insert"),o=s.find('input.fr-link-attr[type="text"]'),l=s.find('input.fr-link-attr[type="checkbox"]');for(i=0;i<o.length;i++)r[(a=e(o[i])).attr("name")]?a.val(r[a.attr("name")]):"text"!=a.attr("name")&&a.val("");for(i=0;i<l.length;i++)(a=e(l[i])).prop("checked",a.data("checked")==r[a.attr("name")]);t.accessibility.focusPopup(s)},insertCallback:function(){var n,a,i=t.popups.get("link.insert"),r=i.find('input.fr-link-attr[type="text"]'),s=i.find('input.fr-link-attr[type="checkbox"]'),o=r.filter('[name="href"]').val(),l=r.filter('[name="text"]').val(),f={};for(a=0;a<r.length;a++)0>["href","text"].indexOf((n=e(r[a])).attr("name"))&&(f[n.attr("name")]=n.val());for(a=0;a<s.length;a++)(n=e(s[a])).is(":checked")?f[n.attr("name")]=n.data("checked"):f[n.attr("name")]=n.data("unchecked")||null;var p=t.helpers.scrollTop();c(o,l,f),e(t.o_win).scrollTop(p)},insert:c,update:f,get:n,allSelected:a,back:function(){(t.image?t.image.get():null)?t.image.back():(t.events.disableBlur(),t.selection.restore(),t.events.enableBlur(),n()&&t.$wp?(t.selection.restore(),r(),i()):"A"==t.el.tagName?(t.$el.focus(),i()):(t.popups.hide("link.insert"),t.toolbar.showInline()))},imageLink:p,applyStyle:function(a,r,s){void 0===s&&(s=t.opts.linkMultipleStyles),void 0===r&&(r=t.opts.linkStyles);var o=n();if(!o)return!1;if(!s){var l=Object.keys(r);l.splice(l.indexOf(a),1),e(o).removeClass(l.join(" "))}e(o).toggleClass(a),i()}}},e.FE.DefineIcon("insertLink",{NAME:"link"}),e.FE.RegisterShortcut(e.FE.KEYCODE.K,"insertLink",null,"K"),e.FE.RegisterCommand("insertLink",{title:"Insert Link",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("link.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("link.insert")):this.link.showInsertPopup()},plugin:"link"}),e.FE.DefineIcon("linkOpen",{NAME:"external-link"}),e.FE.RegisterCommand("linkOpen",{title:"Open Link",undo:!1,refresh:function(e){this.link.get()?e.removeClass("fr-hidden"):e.addClass("fr-hidden")},callback:function(){var e=this.link.get();e&&this.o_win.open(e.href)}}),e.FE.DefineIcon("linkEdit",{NAME:"edit"}),e.FE.RegisterCommand("linkEdit",{title:"Edit Link",undo:!1,refreshAfterCallback:!1,popup:!0,callback:function(){this.link.update()},refresh:function(e){this.link.get()?e.removeClass("fr-hidden"):e.addClass("fr-hidden")}}),e.FE.DefineIcon("linkRemove",{NAME:"unlink"}),e.FE.RegisterCommand("linkRemove",{title:"Unlink",callback:function(){this.link.remove()},refresh:function(e){this.link.get()?e.removeClass("fr-hidden"):e.addClass("fr-hidden")}}),e.FE.DefineIcon("linkBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("linkBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.link.back()},refresh:function(e){var t=this.link.get()&&this.doc.hasFocus();(this.image?this.image.get():null)||t||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.DefineIcon("linkList",{NAME:"search"}),e.FE.RegisterCommand("linkList",{title:"Choose Link",type:"dropdown",focus:!1,undo:!1,refreshAfterCallback:!1,html:function(){for(var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.linkList,n=0;n<t.length;n++)e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkList" data-param1="'+n+'">'+(t[n].displayText||t[n].text)+"</a></li>";return e+"</ul>"},callback:function(e,t){this.link.usePredefined(t)}}),e.FE.RegisterCommand("linkInsert",{focus:!1,refreshAfterCallback:!1,callback:function(){this.link.insertCallback()},refresh:function(e){this.link.get()?e.text(this.language.translate("Update")):e.text(this.language.translate("Insert"))}}),e.FE.DefineIcon("imageLink",{NAME:"link"}),e.FE.RegisterCommand("imageLink",{title:"Insert Link",undo:!1,focus:!1,popup:!0,callback:function(){this.link.imageLink()},refresh:function(e){var t;this.link.get()?((t=e.prev()).hasClass("fr-separator")&&t.removeClass("fr-hidden"),e.addClass("fr-hidden")):((t=e.prev()).hasClass("fr-separator")&&t.addClass("fr-hidden"),e.removeClass("fr-hidden"))}}),e.FE.DefineIcon("linkStyle",{NAME:"magic"}),e.FE.RegisterCommand("linkStyle",{title:"Style",type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.linkStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkStyle" data-param1="'+n+'">'+this.language.translate(t[n])+"</a></li>");return e+"</ul>"},callback:function(e,t){this.link.applyStyle(t)},refreshOnShow:function(t,n){var a=this.link.get();if(a){var i=e(a);n.find(".fr-command").each(function(){var t=e(this).data("param1"),n=i.hasClass(t);e(this).toggleClass("fr-active",n).attr("aria-selected",n)})}}})})?a.apply(t,i):a)&&(e.exports=r)},80020:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.FE.PLUGINS.lists=function(t){function n(e){return'<span class="fr-open-'+e.toLowerCase()+'"></span>'}function a(e){return'<span class="fr-close-'+e.toLowerCase()+'"></span>'}function i(i){for(r=i.length-1;r>=0;r--)for(s=r-1;s>=0;s--)if(e(i[s]).find(i[r]).length||i[s]==i[r]){i.splice(r,1);break}var r,s,o=[];for(r=0;r<i.length;r++){var l=e(i[r]),c=i[r].parentNode,f=l.attr("class");if(l.before(a(c.tagName)),"LI"==c.parentNode.tagName)l.before(a("LI")),l.after(n("LI"));else{var p="";f&&(p+=' class="'+f+'"');var d="rtl"==t.opts.direction||"rtl"==l.css("direction")?"margin-right":"margin-left";t.helpers.getPX(e(c).css(d))&&(p+=' style="'+d+":"+t.helpers.getPX(e(c).css(d))+'px;"'),p&&l.wrapInner("<"+t.html.defaultTag()+p+"></"+t.html.defaultTag()+">"),t.node.isEmpty(l.get(0),!0)||0!==l.find(t.html.blockTagsQuery()).length||l.append("<br>"),l.append(n("LI")),l.prepend(a("LI"))}l.after(n(c.tagName)),"LI"==c.parentNode.tagName&&(c=c.parentNode.parentNode),0>o.indexOf(c)&&o.push(c)}for(r=0;r<o.length;r++){var h=e(o[r]),u=h.html();u=(u=u.replace(/<span class="fr-close-([a-z]*)"><\/span>/g,"</$1>")).replace(/<span class="fr-open-([a-z]*)"><\/span>/g,"<$1>"),h.replaceWith(t.node.openTagString(h.get(0))+u+t.node.closeTagString(h.get(0)))}t.$el.find("li:empty").remove(),t.$el.find("ul:empty, ol:empty").remove(),t.clean.lists(),t.html.wrap()}function r(n){t.selection.save();for(var a=0;a<n.length;a++){var i=n[a].previousSibling;if(i){var r=e(n[a]).find("> ul, > ol").last().get(0);if(r){for(var s=e("<li>").prependTo(e(r)),o=t.node.contents(n[a])[0];o&&!t.node.isList(o);){var l=o.nextSibling;s.append(o),o=l}e(i).append(e(r)),e(n[a]).remove()}else{var c=e(i).find("> ul, > ol").last().get(0);if(c)e(c).append(e(n[a]));else{var f=e("<"+n[a].parentNode.tagName+">");e(i).append(f),f.append(e(n[a]))}}}}t.clean.lists(),t.selection.restore()}function s(e){t.selection.save(),i(e),t.selection.restore()}function o(e){if("indent"==e||"outdent"==e){for(var n=!1,a=t.selection.blocks(),i=[],o=0;o<a.length;o++)"LI"==a[o].tagName?(n=!0,i.push(a[o])):"LI"==a[o].parentNode.tagName&&(n=!0,i.push(a[o].parentNode));n&&("indent"==e?r(i):s(i))}}return{_init:function(){t.events.on("commands.after",o),t.events.on("keydown",function(n){if(n.which==e.FE.KEYCODE.TAB){for(var a=t.selection.blocks(),i=[],o=0;o<a.length;o++)"LI"==a[o].tagName?i.push(a[o]):"LI"==a[o].parentNode.tagName&&i.push(a[o].parentNode);if(i.length>1||i.length&&(t.selection.info(i[0]).atStart||t.node.isEmpty(i[0])))return n.preventDefault(),n.stopPropagation(),n.shiftKey?s(i):r(i),!1}},!0)},format:function(n){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();for(var a=t.selection.blocks(),r=0;r<a.length;r++)"LI"!=a[r].tagName&&"LI"==a[r].parentNode.tagName&&(a[r]=a[r].parentNode);t.selection.save(),function(e,t){for(var n=!0,a=0;a<e.length;a++){if("LI"!=e[a].tagName)return!1;e[a].parentNode.tagName!=t&&(n=!1)}return n}(a,n)?i(a):function(n,a){(function(t,n){for(var a=[],i=0;i<t.length;i++){var r=t[i].parentNode;"LI"==t[i].tagName&&r.tagName!=n&&0>a.indexOf(r)&&a.push(r)}for(i=a.length-1;i>=0;i--){var s=e(a[i]);s.replaceWith("<"+n.toLowerCase()+">"+s.html()+"</"+n.toLowerCase()+">")}})(n,a);var i,r=t.html.defaultTag(),s=null;n.length&&(i="rtl"==t.opts.direction||"rtl"==e(n[0]).css("direction")?"margin-right":"margin-left");for(var o=0;o<n.length;o++)if("LI"!=n[o].tagName){var l=t.helpers.getPX(e(n[o]).css(i))||0;n[o].style.marginLeft=null,null===s&&(s=l);var c=s>0?"<"+a+' style="'+i+": "+s+'px;">':"<"+a+">",f="</"+a+">";for(l-=s;l/t.opts.indentMargin>0;)c+="<"+a+">",f+=f,l-=t.opts.indentMargin;r&&n[o].tagName.toLowerCase()==r?e(n[o]).replaceWith(c+"<li"+t.node.attributes(n[o])+">"+e(n[o]).html()+"</li>"+f):e(n[o]).wrap(c+"<li></li>"+f)}t.clean.lists()}(a,n),t.html.unwrap(),t.selection.restore()},refresh:function(n,a){var i=e(t.selection.element());if(i.get(0)!=t.el){var r=i.get(0);(r="LI"!=r.tagName&&r.firstElementChild&&"LI"!=r.firstElementChild.tagName?i.parents("li").get(0):"LI"==r.tagName||r.firstElementChild?r.firstElementChild&&"LI"==r.firstElementChild.tagName?i.get(0).firstChild:i.get(0):i.parents("li").get(0))&&r.parentNode.tagName==a&&t.el.contains(r.parentNode)&&n.addClass("fr-active")}}}},e.FE.RegisterCommand("formatUL",{title:"Unordered List",refresh:function(e){this.lists.refresh(e,"UL")},callback:function(){this.lists.format("UL")},plugin:"lists"}),e.FE.RegisterCommand("formatOL",{title:"Ordered List",refresh:function(e){this.lists.refresh(e,"OL")},callback:function(){this.lists.format("OL")},plugin:"lists"}),e.FE.DefineIcon("formatUL",{NAME:"list-ul"}),e.FE.DefineIcon("formatOL",{NAME:"list-ol"})})?a.apply(t,i):a)&&(e.exports=r)},41697:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.DEFAULTS,{paragraphFormat:{N:"Normal",H1:"Heading 1",H2:"Heading 2",H3:"Heading 3",H4:"Heading 4",PRE:"Code"},paragraphFormatSelection:!1}),e.FE.PLUGINS.paragraphFormat=function(t){return{apply:function(n){"N"==n&&(n=t.html.defaultTag()),t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();var a=t.selection.blocks();t.selection.save(),t.$el.find("pre").attr("skip",!0);for(var i=0;i<a.length;i++)if(a[i].tagName!=n&&!t.node.isList(a[i])){var r,s=e(a[i]);"LI"==a[i].tagName?function(n,a){var i=t.html.defaultTag();if(a&&a.toLowerCase()!=i){if(n.find("ul, ol").length>0){var r=e("<"+a+">");n.prepend(r);for(var s=t.node.contents(n.get(0))[0];s&&0>["UL","OL"].indexOf(s.tagName);){var o=s.nextSibling;r.append(s),s=o}}else n.html("<"+a+">"+n.html()+"</"+a+">")}}(s,n):"LI"==a[i].parentNode.tagName&&a[i]?function(n,a){var i=t.html.defaultTag();a||(a='div class="fr-temp-div" data-empty="true"'),a.toLowerCase()==i?n.replaceWith(n.html()):n.replaceWith(e("<"+a+">").html(n.html()))}(s,n):["TD","TH"].indexOf(a[i].parentNode.tagName)>=0?function(n,a){var i=t.html.defaultTag();a||(a='div class="fr-temp-div"'+(t.node.isEmpty(n.get(0),!0)?' data-empty="true"':"")),a.toLowerCase()==i?(t.node.isEmpty(n.get(0),!0)||n.append("<br/>"),n.replaceWith(n.html())):n.replaceWith(e("<"+a+">").html(n.html()))}(s,n):((r=n)||(r='div class="fr-temp-div"'+(t.node.isEmpty(s.get(0),!0)?' data-empty="true"':"")),s.replaceWith(e("<"+r+" "+t.node.attributes(s.get(0))+">").html(s.html()).removeAttr("data-empty")))}t.$el.find('pre:not([skip="true"]) + pre:not([skip="true"])').each(function(){e(this).prev().append("<br>"+e(this).html()),e(this).remove()}),t.$el.find("pre").removeAttr("skip"),t.html.unwrap(),t.selection.restore()},refreshOnShow:function(e,n){var a=t.selection.blocks();if(a.length){var i=a[0],r="N",s=t.html.defaultTag();i.tagName.toLowerCase()!=s&&i!=t.el&&(r=i.tagName),n.find('.fr-command[data-param1="'+r+'"]').addClass("fr-active").attr("aria-selected",!0)}else n.find('.fr-command[data-param1="N"]').addClass("fr-active").attr("aria-selected",!0)},refresh:function(e){if(t.opts.paragraphFormatSelection){var n=t.selection.blocks();if(n.length){var a=n[0],i="N",r=t.html.defaultTag();a.tagName.toLowerCase()!=r&&a!=t.el&&(i=a.tagName),["LI","TD","TH"].indexOf(i)>=0&&(i="N"),e.find("> span").text(t.language.translate(t.opts.paragraphFormat[i]))}else e.find("> span").text(t.language.translate(t.opts.paragraphFormat.N))}}}},e.FE.RegisterCommand("paragraphFormat",{type:"dropdown",displaySelection:function(e){return e.opts.paragraphFormatSelection},defaultSelection:"Normal",displaySelectionWidth:100,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.paragraphFormat;for(var n in t)if(t.hasOwnProperty(n)){var a=this.shortcuts.get("paragraphFormat."+n);a=a?'<span class="fr-shortcut">'+a+"</span>":"",e+='<li role="presentation"><'+("N"==n?this.html.defaultTag()||"DIV":n)+' style="padding: 0 !important; margin: 0 !important;" role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="paragraphFormat" data-param1="'+n+'" title="'+this.language.translate(t[n])+'">'+this.language.translate(t[n])+"</a></"+("N"==n?this.html.defaultTag()||"DIV":n)+"></li>"}return e+"</ul>"},title:"Paragraph Format",callback:function(e,t){this.paragraphFormat.apply(t)},refresh:function(e){this.paragraphFormat.refresh(e)},refreshOnShow:function(e,t){this.paragraphFormat.refreshOnShow(e,t)},plugin:"paragraphFormat"}),e.FE.DefineIcon("paragraphFormat",{NAME:"paragraph"})})?a.apply(t,i):a)&&(e.exports=r)},28496:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.DEFAULTS,{paragraphStyles:{"fr-text-gray":"Gray","fr-text-bordered":"Bordered","fr-text-spaced":"Spaced","fr-text-uppercase":"Uppercase"},paragraphMultipleStyles:!0}),e.FE.PLUGINS.paragraphStyle=function(t){return{_init:function(){},apply:function(n,a,i){void 0===a&&(a=t.opts.paragraphStyles),void 0===i&&(i=t.opts.paragraphMultipleStyles);var r="";i||((r=Object.keys(a)).splice(r.indexOf(n),1),r=r.join(" ")),t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();var s=t.selection.blocks();t.selection.save();for(var o=e(s[0]).hasClass(n),l=0;l<s.length;l++)e(s[l]).removeClass(r).toggleClass(n,!o),e(s[l]).hasClass("fr-temp-div")&&e(s[l]).removeClass("fr-temp-div"),""===e(s[l]).attr("class")&&e(s[l]).removeAttr("class");t.html.unwrap(),t.selection.restore()},refreshOnShow:function(n,a){var i=t.selection.blocks();if(i.length){var r=e(i[0]);a.find(".fr-command").each(function(){var t=e(this).data("param1"),n=r.hasClass(t);e(this).toggleClass("fr-active",n).attr("aria-selected",n)})}}}},e.FE.RegisterCommand("paragraphStyle",{type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.paragraphStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command '+n+'" tabIndex="-1" role="option" data-cmd="paragraphStyle" data-param1="'+n+'" title="'+this.language.translate(t[n])+'">'+this.language.translate(t[n])+"</a></li>");return e+"</ul>"},title:"Paragraph Style",callback:function(e,t){this.paragraphStyle.apply(t)},refreshOnShow:function(e,t){this.paragraphStyle.refreshOnShow(e,t)},plugin:"paragraphStyle"}),e.FE.DefineIcon("paragraphStyle",{NAME:"magic"})})?a.apply(t,i):a)&&(e.exports=r)},87866:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.DEFAULTS,{quickInsertButtons:["image","table","ul","ol","hr"],quickInsertTags:["p","div","h1","h2","h3","h4","h5","h6","pre","blockquote"]}),e.FE.QUICK_INSERT_BUTTONS={image:{icon:"insertImage",callback:function(){this.shared.$qi_image_input||(this.shared.$qi_image_input=e('<input accept="image/*" name="quickInsertImage'+this.id+'" style="display: none;" type="file">'),e("body:first").append(this.shared.$qi_image_input),this.events.$on(this.shared.$qi_image_input,"change",function(){var t=e(this).data("inst");this.files&&(t.quickInsert.hide(),t.image.upload(this.files)),e(this).val("")},!0)),this.$qi_image_input=this.shared.$qi_image_input,this.helpers.isMobile()&&this.selection.save(),this.$qi_image_input.data("inst",this).trigger("click")},requiredPlugin:"image",title:"Insert Image"},table:{icon:"insertTable",callback:function(){this.quickInsert.hide(),this.table.insert(2,2),this.undo.saveStep()},requiredPlugin:"table",title:"Insert Table"},ol:{icon:"formatOL",callback:function(){this.quickInsert.hide(),this.lists.format("OL"),this.undo.saveStep()},requiredPlugin:"lists",title:"Ordered List"},ul:{icon:"formatUL",callback:function(){this.quickInsert.hide(),this.lists.format("UL"),this.undo.saveStep()},requiredPlugin:"lists",title:"Unordered List"},hr:{icon:"insertHR",callback:function(){this.quickInsert.hide(),this.commands.insertHR(),this.undo.saveStep()},title:"Insert Horizontal Line"}},e.FE.DefineIcon("quickInsert",{PATH:'<path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/>',template:"svg"}),e.FE.RegisterQuickInsertCommand=function(t,n){e.FE.QUICK_INSERT_BUTTONS[t]=n},e.FE.PLUGINS.quickInsert=function(t){var n,a;function i(e){var i,r,s;i=e.offset().top-t.$box.offset().top,r=0-n.outerWidth(),s=(n.outerHeight()-e.outerHeight())/2,t.opts.iframe&&(i+=t.$iframe.offset().top-t.helpers.scrollTop()),n.hasClass("fr-on")&&i>=0&&a.css("top",i-s),i>=0&&i-s<=t.$box.outerHeight()-e.outerHeight()?(n.hasClass("fr-hidden")&&(n.hasClass("fr-on")&&o(),n.removeClass("fr-hidden")),n.css("top",i-s)):n.hasClass("fr-visible")&&(n.addClass("fr-hidden"),l()),n.css("left",r)}function r(){if(t.core.hasFocus()){var c,f=t.selection.element();t.node.isBlock(f)||(f=t.node.blockParent(f)),f&&t.node.isEmpty(f)&&t.node.isElement(f.parentNode)&&t.opts.quickInsertTags.indexOf(f.tagName.toLowerCase())>=0?n&&n.data("tag").is(e(f))&&n.hasClass("fr-on")?l():t.selection.isCollapsed()&&(c=e(f),n||(t.shared.$quick_insert||(t.shared.$quick_insert=e('<div class="fr-quick-insert"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+t.language.translate("Quick Insert")+'">'+t.icon.create("quickInsert")+"</a></div>")),n=t.shared.$quick_insert,t.tooltip.bind(t.$box,".fr-quick-insert > a.fr-floating-btn"),t.events.on("destroy",function(){n.removeClass("fr-on").appendTo(e("body:first")).css("left",-9999).css("top",-9999),a&&(l(),a.appendTo(e("body:first")))},!0),t.events.on("shared.destroy",function(){n.html("").removeData().remove(),n=null,a&&(a.html("").removeData().remove(),a=null)},!0),t.events.on("commands.before",s),t.events.on("commands.after",function(){t.popups.areVisible()||r()}),t.events.bindClick(t.$box,".fr-quick-insert > a",o),t.events.bindClick(t.$box,".fr-qi-helper > a.fr-btn",function(n){var a=e(n.currentTarget).data("cmd");e.FE.QUICK_INSERT_BUTTONS[a].callback.apply(t,[n.currentTarget])}),t.events.$on(t.$wp,"scroll",function(){n.hasClass("fr-visible")&&i(n.data("tag"))})),n.hasClass("fr-on")&&l(),t.$box.append(n),i(c),n.data("tag",c),n.addClass("fr-visible")):s()}}function s(){n&&(t.html.checkIfEmpty(),n.hasClass("fr-on")&&l(),n.removeClass("fr-visible fr-on"),n.css("left",-9999).css("top",-9999))}function o(i){if(i&&i.preventDefault(),n.hasClass("fr-on")&&!n.hasClass("fr-hidden"))l();else{if(!t.shared.$qi_helper){for(var r=t.opts.quickInsertButtons,s='<div class="fr-qi-helper">',o=0,c=0;c<r.length;c++){var f=e.FE.QUICK_INSERT_BUTTONS[r[c]];f&&(!f.requiredPlugin||e.FE.PLUGINS[f.requiredPlugin]&&t.opts.pluginsEnabled.indexOf(f.requiredPlugin)>=0)&&(s+='<a class="fr-btn fr-floating-btn" role="button" title="'+t.language.translate(f.title)+'" tabIndex="-1" data-cmd="'+r[c]+'" style="transition-delay: '+.025*o+++'s;">'+t.icon.create(f.icon)+"</a>")}s+="</div>",t.shared.$qi_helper=e(s),t.tooltip.bind(t.shared.$qi_helper,"> a.fr-btn")}(a=t.shared.$qi_helper).appendTo(t.$box),setTimeout(function(){a.css("top",parseFloat(n.css("top"))),a.css("left",parseFloat(n.css("left"))+n.outerWidth()),a.find("a").addClass("fr-size-1"),n.addClass("fr-on")},10)}}function l(){var e=t.$box.find(".fr-qi-helper");e.length&&(e.find("a").removeClass("fr-size-1"),e.css("left",-9999),n.hasClass("fr-hidden")||n.removeClass("fr-on"))}return{_init:function(){if(!t.$wp)return!1;t.opts.iframe&&t.$el.parent("html").find("head").append('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">'),t.popups.onShow("image.edit",s),t.events.on("mouseup",r),t.helpers.isMobile()&&t.events.$on(e(t.o_doc),"selectionchange",r),t.events.on("blur",s),t.events.on("keyup",r),t.events.on("keydown",function(){setTimeout(function(){r()},0)})},hide:s}}})?a.apply(t,i):a)&&(e.exports=r)},60528:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.FE.PLUGINS.quote=function(t){return{apply:function(n){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore(),"increase"==n?function(){var n,a=t.selection.blocks();for(n=0;n<a.length;n++)a[n]=function(e){for(;e.parentNode&&e.parentNode!=t.el;)e=e.parentNode;return e}(a[n]);t.selection.save();var i=e("<blockquote>");for(i.insertBefore(a[0]),n=0;n<a.length;n++)i.append(a[n]);t.html.unwrap(),t.selection.restore()}():"decrease"==n&&function(){var n,a=t.selection.blocks();for(n=0;n<a.length;n++)"BLOCKQUOTE"!=a[n].tagName&&(a[n]=e(a[n]).parentsUntil(t.$el,"BLOCKQUOTE").get(0));for(t.selection.save(),n=0;n<a.length;n++)a[n]&&e(a[n]).replaceWith(a[n].innerHTML);t.html.unwrap(),t.selection.restore()}()}}},e.FE.RegisterShortcut(e.FE.KEYCODE.SINGLE_QUOTE,"quote","increase","'"),e.FE.RegisterShortcut(e.FE.KEYCODE.SINGLE_QUOTE,"quote","decrease","'",!0),e.FE.RegisterCommand("quote",{title:"Quote",type:"dropdown",options:{increase:"Increase",decrease:"Decrease"},callback:function(e,t){this.quote.apply(t)},plugin:"quote"}),e.FE.DefineIcon("quote",{NAME:"quote-left"})})?a.apply(t,i):a)&&(e.exports=r)},75626:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.DEFAULTS,{saveInterval:1e4,saveURL:null,saveParams:{},saveParam:"body",saveMethod:"POST"}),e.FE.PLUGINS.save=function(t){function n(e,n){t.events.trigger("save.error",[{code:e,message:f[e]},n])}function a(a){if(void 0===a&&(a=t.html.get()),!1===t.events.trigger("save.before"))return!1;if(t.opts.saveURL){var i={};for(var r in t.opts.saveParams)if(t.opts.saveParams.hasOwnProperty(r)){var o=t.opts.saveParams[r];i[r]="function"==typeof o?o.call(this):o}var f={};f[t.opts.saveParam]=a,e.ajax({type:t.opts.saveMethod,url:t.opts.saveURL,data:e.extend(f,i),crossDomain:t.opts.requestWithCORS,xhrFields:{withCredentials:t.opts.requestWithCredentials},headers:t.opts.requestHeaders}).done(function(e){s=a,t.events.trigger("save.after",[e])}).fail(function(e){n(c,e.response||e.responseText)})}else n(l)}function i(){clearTimeout(r),r=setTimeout(function(){var e=t.html.get();(s!=e||o)&&(s=e,o=!1,a(e))},t.opts.saveInterval)}var r=null,s=null,o=!1,l=1,c=2,f={};return f[1]="Missing saveURL option.",f[c]="Something went wrong during save.",{_init:function(){t.opts.saveInterval&&(s=t.html.get(),t.events.on("contentChanged",i),t.events.on("keydown destroy",function(){clearTimeout(r)}))},save:a,reset:function(){i(),o=!1},force:function(){o=!0}}},e.FE.DefineIcon("save",{NAME:"floppy-o"}),e.FE.RegisterCommand("save",{title:"Save",undo:!1,focus:!1,refreshAfterCallback:!1,callback:function(){this.save.save()},plugin:"save"})})?a.apply(t,i):a)&&(e.exports=r)},48950:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.POPUP_TEMPLATES,{"table.insert":"[_BUTTONS_][_ROWS_COLUMNS_]","table.edit":"[_BUTTONS_]","table.colors":"[_BUTTONS_][_COLORS_]"}),e.extend(e.FE.DEFAULTS,{tableInsertMaxSize:10,tableEditButtons:["tableHeader","tableRemove","|","tableRows","tableColumns","tableStyle","-","tableCells","tableCellBackground","tableCellVerticalAlign","tableCellHorizontalAlign","tableCellStyle"],tableInsertButtons:["tableBack","|"],tableResizer:!0,tableResizerOffset:5,tableResizingLimit:30,tableColorsButtons:["tableBack","|"],tableColors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],tableColorsStep:7,tableCellStyles:{"fr-highlighted":"Highlighted","fr-thick":"Thick"},tableStyles:{"fr-dashed-borders":"Dashed Borders","fr-alternate-rows":"Alternate Rows"},tableCellMultipleStyles:!0,tableMultipleStyles:!0,tableInsertHelper:!0,tableInsertHelperOffset:15}),e.FE.PLUGINS.table=function(t){var n,a,i,r,s,o,l;function c(){var e=b();if(e){var n=t.popups.get("table.edit");n||(n=h()),t.popups.setContainer("table.edit",t.$sc);var a=x(e),i=(a.left+a.right)/2,r=a.bottom;t.popups.show("table.edit",i,r,a.bottom-a.top),t.edit.isDisabled()&&(t.toolbar.disable(),t.$el.removeClass("fr-no-selection"),t.edit.on(),t.button.bulkRefresh(),t.selection.setAtEnd(t.$el.find(".fr-selected-cell:last").get(0)),t.selection.restore())}}function f(){0===Y().length&&t.toolbar.enable()}function p(n){if(n)return t.popups.onHide("table.insert",function(){t.popups.get("table.insert").find('.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]').trigger("mouseenter")}),!0;var a="";t.opts.tableInsertButtons.length>0&&(a='<div class="fr-buttons">'+t.button.buildList(t.opts.tableInsertButtons)+"</div>");var i={buttons:a,rows_columns:function(){for(var e='<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">',n=1;n<=t.opts.tableInsertMaxSize;n++){for(var a=1;a<=t.opts.tableInsertMaxSize;a++){var i="inline-block";n>2&&!t.helpers.isMobile()&&(i="none");var r="fr-table-cell ";1==n&&1==a&&(r+=" hover"),e+='<span class="fr-command '+r+'" tabIndex="-1" data-cmd="tableInsert" data-row="'+n+'" data-col="'+a+'" data-param1="'+n+'" data-param2="'+a+'" style="display: '+i+';" role="button"><span></span><span class="fr-sr-only">'+n+" &times; "+a+"&nbsp;&nbsp;&nbsp;</span></span>"}e+='<div class="new-line"></div>'}return e+"</div></div>"}()},r=t.popups.create("table.insert",i);return t.events.$on(r,"mouseenter",".fr-table-size .fr-select-table-size .fr-table-cell",function(t){d(e(t.currentTarget))},!0),t.events.$on(r,"focus","[tabIndex]",function(t){d(e(t.currentTarget))}),t.events.on("popup.tab",function(n){var a=e(n.currentTarget);if(!t.popups.isVisible("table.insert")||!a.is("span, a"))return!0;var i,r=n.which;if(e.FE.KEYCODE.ARROW_UP==r||e.FE.KEYCODE.ARROW_DOWN==r||e.FE.KEYCODE.ARROW_LEFT==r||e.FE.KEYCODE.ARROW_RIGHT==r){if(a.is("span.fr-table-cell")){var s=a.parent().find("span.fr-table-cell"),o=s.index(a),l=t.opts.tableInsertMaxSize,c=o%l,f=Math.floor(o/l);e.FE.KEYCODE.ARROW_UP==r?f=Math.max(0,f-1):e.FE.KEYCODE.ARROW_DOWN==r?f=Math.min(t.opts.tableInsertMaxSize-1,f+1):e.FE.KEYCODE.ARROW_LEFT==r?c=Math.max(0,c-1):e.FE.KEYCODE.ARROW_RIGHT==r&&(c=Math.min(t.opts.tableInsertMaxSize-1,c+1));var p=f*l+c,h=e(s.get(p));d(h),t.events.disableBlur(),h.focus(),i=!1}}else e.FE.KEYCODE.ENTER==r&&(t.button.exec(a),i=!1);return!1===i&&(n.preventDefault(),n.stopPropagation()),i},!0),r}function d(e){var n=e.data("row"),a=e.data("col"),i=e.parent();i.siblings(".fr-table-size-info").html(n+" &times; "+a),i.find("> span").removeClass("hover fr-active-item");for(var r=1;r<=t.opts.tableInsertMaxSize;r++)for(var s=0;s<=t.opts.tableInsertMaxSize;s++){var o=i.find('> span[data-row="'+r+'"][data-col="'+s+'"]');r<=n&&s<=a?o.addClass("hover"):r<=n+1||r<=2&&!t.helpers.isMobile()?o.css("display","inline-block"):r>2&&!t.helpers.isMobile()&&o.css("display","none")}e.addClass("fr-active-item")}function h(e){if(e)return t.popups.onHide("table.edit",f),!0;var n="";t.opts.tableEditButtons.length>0&&(n='<div class="fr-buttons">'+t.button.buildList(t.opts.tableEditButtons)+"</div>");var a={buttons:n},i=t.popups.create("table.edit",a);return t.events.$on(t.$wp,"scroll.table-edit",function(){t.popups.isVisible("table.edit")&&c()}),i}function u(){if(Y().length>0){var e=j();t.selection.setBefore(e.get(0))||t.selection.setAfter(e.get(0)),t.selection.restore(),t.popups.hide("table.edit"),e.remove(),t.toolbar.enable()}}function g(n){var a=j();if(a.length>0){if(t.$el.find("th.fr-selected-cell").length>0&&"above"==n)return;var i,r,s=b(),o=y(s);r="above"==n?o.min_i:o.max_i;var l="<tr>";for(i=0;i<s[r].length;i++)if("below"==n&&r<s.length-1&&s[r][i]==s[r+1][i]||"above"==n&&r>0&&s[r][i]==s[r-1][i]){if(0===i||i>0&&s[r][i]!=s[r][i-1]){var f=e(s[r][i]);f.attr("rowspan",parseInt(f.attr("rowspan"),10)+1)}}else l+="<td><br></td>";l+="</tr>";var p=e(a.find("tr").not(a.find("table tr")).get(r));"below"==n?p.after(l):"above"==n&&(p.before(l),t.popups.isVisible("table.edit")&&c())}}function m(e,t,n){var a,i,r,s,o,l=0,c=b(n);for(t=Math.min(t,c[0].length-1),i=e;i<=t;i++)if(!(i>e&&c[0][i]==c[0][i-1])&&(s=parseInt(c[0][i].getAttribute("colspan"),10)||1)>1&&c[0][i]==c[0][i+1]){for(l=s-1,a=1;a<c.length;a++)if(c[a][i]!=c[a-1][i]){for(r=i;r<i+s;r++)if((o=parseInt(c[a][r].getAttribute("colspan"),10)||1)>1&&c[a][r]==c[a][r+1])r+=l=Math.min(l,o-1);else if(!(l=Math.max(0,l-1)))break;if(!l)break}}l&&v(c,l,"colspan",0,c.length-1,e,t)}function _(e,t,n){var a,i,r,s,o,l=0,c=b(n);for(t=Math.min(t,c.length-1),a=e;a<=t;a++)if(!(a>e&&c[a][0]==c[a-1][0])&&(s=parseInt(c[a][0].getAttribute("rowspan"),10)||1)>1&&c[a][0]==c[a+1][0]){for(l=s-1,i=1;i<c[0].length;i++)if(c[a][i]!=c[a][i-1]){for(r=a;r<a+s;r++)if((o=parseInt(c[r][i].getAttribute("rowspan"),10)||1)>1&&c[r][i]==c[r+1][i])r+=l=Math.min(l,o-1);else if(!(l=Math.max(0,l-1)))break;if(!l)break}}l&&v(c,l,"rowspan",e,t,0,c[0].length-1)}function v(e,t,n,a,i,r,s){var o,l,c;for(o=a;o<=i;o++)for(l=r;l<=s;l++)o>a&&e[o][l]==e[o-1][l]||l>r&&e[o][l]==e[o][l-1]||(c=parseInt(e[o][l].getAttribute(n),10)||1)>1&&(c-t>1?e[o][l].setAttribute(n,c-t):e[o][l].removeAttribute(n))}function b(t){var n=[];if(null==(t=t||null)&&Y().length>0&&(t=j()),t)return t.find("tr").not(t.find("table tr")).each(function(t,a){var i=e(a),r=0;i.find("> th, > td").each(function(a,i){for(var s=e(i),o=parseInt(s.attr("colspan"),10)||1,l=parseInt(s.attr("rowspan"),10)||1,c=t;c<t+l;c++)for(var f=r;f<r+o;f++)n[c]||(n[c]=[]),n[c][f]?r++:n[c][f]=i;r+=o})}),n}function E(e,t){for(var n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)if(t[n][a]==e)return{row:n,col:a}}function w(e,t,n){for(var a=e+1,i=t+1;a<n.length;){if(n[a][t]!=n[e][t]){a--;break}a++}for(a==n.length&&a--;i<n[e].length;){if(n[e][i]!=n[e][t]){i--;break}i++}return i==n[e].length&&i--,{row:a,col:i}}function k(){t.el.querySelector(".fr-cell-fixed")&&t.el.querySelector(".fr-cell-fixed").classList.remove("fr-cell-fixed"),t.el.querySelector(".fr-cell-handler")&&t.el.querySelector(".fr-cell-handler").classList.remove("fr-cell-handler")}function C(){var n=t.$el.find(".fr-selected-cell");n.length>0&&n.each(function(){var t=e(this);t.removeClass("fr-selected-cell"),""===t.attr("class")&&t.removeAttr("class")}),k()}function T(){setTimeout(function(){t.selection.clear(),t.$el.addClass("fr-no-selection"),t.$el.blur()},0)}function y(e){var n=t.$el.find(".fr-selected-cell");if(n.length>0){var a,i=e.length,r=0,s=e[0].length,o=0;for(a=0;a<n.length;a++){var l=E(n[a],e),c=w(l.row,l.col,e);i=Math.min(l.row,i),r=Math.max(c.row,r),s=Math.min(l.col,s),o=Math.max(c.col,o)}return{min_i:i,max_i:r,min_j:s,max_j:o}}return null}function x(t){var n=y(t),a=e(t[n.min_i][n.min_j]),i=e(t[n.min_i][n.max_j]),r=e(t[n.max_i][n.min_j]);return{left:a.offset().left,right:i.offset().left+i.outerWidth(),top:a.offset().top,bottom:r.offset().top+r.outerHeight()}}function R(n,a){if(e(n).is(a))C(),t.edit.on(),e(n).addClass("fr-selected-cell");else{T(),t.edit.off();var i=b(),r=E(n,i),s=E(a,i),o=function t(n,a,i,r,s){var o,l,c,f,p=n,d=a,h=i,u=r;for(o=p;o<=d;o++)((parseInt(e(s[o][h]).attr("rowspan"),10)||1)>1||(parseInt(e(s[o][h]).attr("colspan"),10)||1)>1)&&(f=w((c=E(s[o][h],s)).row,c.col,s),p=Math.min(c.row,p),d=Math.max(f.row,d),h=Math.min(c.col,h),u=Math.max(f.col,u)),((parseInt(e(s[o][u]).attr("rowspan"),10)||1)>1||(parseInt(e(s[o][u]).attr("colspan"),10)||1)>1)&&(f=w((c=E(s[o][u],s)).row,c.col,s),p=Math.min(c.row,p),d=Math.max(f.row,d),h=Math.min(c.col,h),u=Math.max(f.col,u));for(l=h;l<=u;l++)((parseInt(e(s[p][l]).attr("rowspan"),10)||1)>1||(parseInt(e(s[p][l]).attr("colspan"),10)||1)>1)&&(f=w((c=E(s[p][l],s)).row,c.col,s),p=Math.min(c.row,p),d=Math.max(f.row,d),h=Math.min(c.col,h),u=Math.max(f.col,u)),((parseInt(e(s[d][l]).attr("rowspan"),10)||1)>1||(parseInt(e(s[d][l]).attr("colspan"),10)||1)>1)&&(f=w((c=E(s[d][l],s)).row,c.col,s),p=Math.min(c.row,p),d=Math.max(f.row,d),h=Math.min(c.col,h),u=Math.max(f.col,u));return p==n&&d==a&&h==i&&u==r?{min_i:n,max_i:a,min_j:i,max_j:r}:t(p,d,h,u,s)}(Math.min(r.row,s.row),Math.max(r.row,s.row),Math.min(r.col,s.col),Math.max(r.col,s.col),i);C(),n.classList.add("fr-cell-fixed"),a.classList.add("fr-cell-handler");for(var l=o.min_i;l<=o.max_i;l++)for(var c=o.min_j;c<=o.max_j;c++)e(i[l][c]).addClass("fr-selected-cell")}}function A(n){var a=null,i=e(n.target);return"TD"==n.target.tagName||"TH"==n.target.tagName?a=n.target:i.closest("td").length>0?a=i.closest("td").get(0):i.closest("th").length>0&&(a=i.closest("th").get(0)),0===t.$el.find(a).length?null:a}function S(){C(),t.popups.hide("table.edit")}function O(n){var a=A(n);if(Y().length>0&&!a&&S(),!t.edit.isDisabled()||t.popups.isVisible("table.edit")){if(1!=n.which||1==n.which&&t.helpers.isMac()&&n.ctrlKey)(3==n.which||1==n.which&&t.helpers.isMac()&&n.ctrlKey)&&a&&S();else if(r=!0,a){Y().length>0&&!n.shiftKey&&S(),n.stopPropagation(),t.events.trigger("image.hideResizer"),t.events.trigger("video.hideResizer"),i=!0;var o=a.tagName.toLowerCase();n.shiftKey&&t.$el.find(o+".fr-selected-cell").length>0?e(t.$el.find(o+".fr-selected-cell").closest("table")).is(e(a).closest("table"))?R(s,a):T():((t.keys.ctrlKey(n)||n.shiftKey)&&(Y().length>1||0===e(a).find(t.selection.element()).length&&!e(a).is(t.selection.element()))&&T(),R(s=a,s))}}}function F(a){if(i||t.$tb.is(a.target)||t.$tb.is(e(a.target).closest(t.$tb.get(0)))||(Y().length>0&&t.toolbar.enable(),C()),!(1!=a.which||1==a.which&&t.helpers.isMac()&&a.ctrlKey)&&(r=!1,i&&(i=!1,A(a)||1!=Y().length?Y().length>0&&(t.selection.isCollapsed()?c():C()):C()),l)){l=!1,n.removeClass("fr-moving"),t.$el.removeClass("fr-no-selection"),t.edit.on();var s=parseFloat(n.css("left"))+t.opts.tableResizerOffset;t.opts.iframe&&(s-=t.$iframe.offset().left),n.data("release-position",s),n.removeData("max-left"),n.removeData("max-right"),function(){var a=n.data("origin"),i=n.data("release-position");if(a!==i){var r=n.data("first"),s=n.data("second"),o=n.data("table"),l=o.outerWidth();if(t.undo.canDo()||t.undo.saveStep(),null!==r&&null!==s){var c,f,p,d=b(o),h=[],u=[],g=[],m=[];for(c=0;c<d.length;c++)f=e(d[c][r]),p=e(d[c][s]),h[c]=f.outerWidth(),g[c]=p.outerWidth(),u[c]=h[c]/l*100,m[c]=g[c]/l*100;for(c=0;c<d.length;c++){f=e(d[c][r]),p=e(d[c][s]);var _=(u[c]*(h[c]+i-a)/h[c]).toFixed(4);f.css("width",_+"%"),p.css("width",(u[c]+m[c]-_).toFixed(4)+"%")}}else{var v,E=o.parent(),w=l/E.width()*100,k=(parseInt(o.css("margin-left"),10)||0)/E.width()*100,C=(parseInt(o.css("margin-right"),10)||0)/E.width()*100;"rtl"==t.opts.direction&&0===s||"rtl"!=t.opts.direction&&0!==s?(v=(l+i-a)/l*w,o.css("margin-right","calc(100% - "+Math.round(v).toFixed(4)+"% - "+Math.round(k).toFixed(4)+"%)")):("rtl"==t.opts.direction&&0!==s||"rtl"!=t.opts.direction&&0===s)&&(v=(l-i+a)/l*w,o.css("margin-left","calc(100% - "+Math.round(v).toFixed(4)+"% - "+Math.round(C).toFixed(4)+"%)")),o.css("width",Math.round(v).toFixed(4)+"%")}t.selection.restore(),t.undo.saveStep()}n.removeData("origin"),n.removeData("release-position"),n.removeData("first"),n.removeData("second"),n.removeData("table")}(a),L()}}function N(n){if(!0===i){if(e(n.currentTarget).closest("table").is(j())&&("TD"==n.currentTarget.tagName&&0===t.$el.find("th.fr-selected-cell").length||"TH"==n.currentTarget.tagName&&0===t.$el.find("td.fr-selected-cell").length))return void R(s,n.currentTarget);T()}}function D(n,a,i,r){for(var s,o=a;o!=t.el&&"TD"!=o.tagName&&"TH"!=o.tagName&&("up"==r?s=o.previousElementSibling:"down"==r&&(s=o.nextElementSibling),!s);)o=o.parentNode;"TD"==o.tagName||"TH"==o.tagName?function(n,a){for(var i=n;i&&"TABLE"!=i.tagName&&i.parentNode!=t.el;)i=i.parentNode;if(i&&"TABLE"==i.tagName){var r=b(e(i));"up"==a?I(E(n,r),i,r):"down"==a&&K(E(n,r),i,r)}}(o,r):s&&("up"==r&&t.selection.setAtEnd(s),"down"==r&&t.selection.setAtStart(s))}function I(e,n,a){e.row>0?t.selection.setAtEnd(a[e.row-1][e.col]):D(e,n,a,"up")}function K(e,n,a){var i=parseInt(a[e.row][e.col].getAttribute("rowspan"),10)||1;e.row<a.length-i?t.selection.setAtStart(a[e.row+i][e.col]):D(e,n,a,"down")}function L(){n&&(n.find("div").css("opacity",0),n.css("top",0),n.css("left",0),n.css("height",0),n.find("div").css("height",0),n.hide())}function M(){a&&a.removeClass("fr-visible").css("left","-9999px")}function B(i){o=null;var r=t.doc.elementFromPoint(i.pageX-t.win.pageXOffset,i.pageY-t.win.pageYOffset);t.opts.tableResizer&&(!t.popups.areVisible()||t.popups.areVisible()&&t.popups.isVisible("table.edit"))&&function(a,i){var r=e(i),s=r.closest("table"),o=s.parent();if(i&&"TD"!=i.tagName&&"TH"!=i.tagName&&(r.closest("td").length>0?i=r.closest("td"):r.closest("th").length>0&&(i=r.closest("th"))),i&&("TD"==i.tagName||"TH"==i.tagName)){if(r=e(i),0===t.$el.find(r).length)return 0;var c=r.offset().left-1,f=c+r.outerWidth();if(Math.abs(a.pageX-c)<=t.opts.tableResizerOffset||Math.abs(f-a.pageX)<=t.opts.tableResizerOffset){var p,d,h,u,g,m=b(s),_=E(i,m),v=w(_.row,_.col,m),k=s.offset().top,C=s.outerHeight()-1;"rtl"!=t.opts.direction?a.pageX-c<=t.opts.tableResizerOffset?(h=c,_.col>0?(u=c-P(_.col-1,m)+t.opts.tableResizingLimit,g=c+P(_.col,m)-t.opts.tableResizingLimit,p=_.col-1,d=_.col):(p=null,d=0,u=s.offset().left-1-parseInt(s.css("margin-left"),10),g=s.offset().left-1+s.width()-m[0].length*t.opts.tableResizingLimit)):f-a.pageX<=t.opts.tableResizerOffset&&(h=f,v.col<m[v.row].length&&m[v.row][v.col+1]?(u=f-P(v.col,m)+t.opts.tableResizingLimit,g=f+P(v.col+1,m)-t.opts.tableResizingLimit,p=v.col,d=v.col+1):(p=v.col,d=null,u=s.offset().left-1+m[0].length*t.opts.tableResizingLimit,g=o.offset().left-1+o.width()+parseFloat(o.css("padding-left")))):f-a.pageX<=t.opts.tableResizerOffset?(h=f,_.col>0?(u=f-P(_.col,m)+t.opts.tableResizingLimit,g=f+P(_.col-1,m)-t.opts.tableResizingLimit,p=_.col,d=_.col-1):(p=null,d=0,u=s.offset().left+m[0].length*t.opts.tableResizingLimit,g=o.offset().left-1+o.width()+parseFloat(o.css("padding-left")))):a.pageX-c<=t.opts.tableResizerOffset&&(h=c,v.col<m[v.row].length&&m[v.row][v.col+1]?(u=c-P(v.col+1,m)+t.opts.tableResizingLimit,g=c+P(v.col,m)-t.opts.tableResizingLimit,p=v.col+1,d=v.col):(p=v.col,d=null,u=o.offset().left+parseFloat(o.css("padding-left")),g=s.offset().left-1+s.width()-m[0].length*t.opts.tableResizingLimit)),n||(t.shared.$table_resizer||(t.shared.$table_resizer=e('<div class="fr-table-resizer"><div></div></div>')),n=t.shared.$table_resizer,t.events.$on(n,"mousedown",function(e){return!t.core.sameInstance(n)||(Y().length>0&&S(),1==e.which?(t.selection.save(),l=!0,n.addClass("fr-moving"),T(),t.edit.off(),n.find("div").css("opacity",1),!1):void 0)}),t.events.$on(n,"mousemove",function(e){if(!t.core.sameInstance(n))return!0;l&&(t.opts.iframe&&(e.pageX-=t.$iframe.offset().left),U(e))}),t.events.on("shared.destroy",function(){n.html("").removeData().remove(),n=null},!0),t.events.on("destroy",function(){t.$el.find(".fr-selected-cell").removeClass("fr-selected-cell"),n.hide().appendTo(e("body:first"))},!0)),n.data("table",s),n.data("first",p),n.data("second",d),n.data("instance",t),t.$wp.append(n);var y=h-t.win.pageXOffset-t.opts.tableResizerOffset,x=k-t.win.pageYOffset;t.opts.iframe&&(y+=t.$iframe.offset().left-t.helpers.scrollLeft(),x+=t.$iframe.offset().top-t.helpers.scrollTop(),u+=t.$iframe.offset().left,g+=t.$iframe.offset().left),n.data("max-left",u),n.data("max-right",g),n.data("origin",h-t.win.pageXOffset),n.css("top",x),n.css("left",y),n.css("height",C),n.find("div").css("height",C),n.css("padding-left",t.opts.tableResizerOffset),n.css("padding-right",t.opts.tableResizerOffset),n.show()}else t.core.sameInstance(n)&&L()}else n&&r.get(0)!=n.get(0)&&r.parent().get(0)!=n.get(0)&&t.core.sameInstance(n)&&L()}(i,r),!t.opts.tableInsertHelper||t.popups.areVisible()||t.$tb.hasClass("fr-inline")&&t.$tb.is(":visible")||function(n,i){if(0===Y().length){var r,s,o;if(i&&("HTML"==i.tagName||"BODY"==i.tagName||t.node.isElement(i)))for(r=1;r<=t.opts.tableInsertHelperOffset;r++){if(e(s=t.doc.elementFromPoint(n.pageX-t.win.pageXOffset,n.pageY-t.win.pageYOffset+r)).hasClass("fr-tooltip"))return!0;if(s&&("TH"==s.tagName||"TD"==s.tagName||"TABLE"==s.tagName)&&(e(s).parents(".fr-wrapper").length||t.opts.iframe))return function(n,i){if(t.$box.find(".fr-line-breaker").is(":visible"))return 0;a||H(),t.$box.append(a),a.data("instance",t);var r,s=e(i).find("tr:first"),o=n.pageX,l=0,c=0;t.opts.iframe&&(l+=t.$iframe.offset().left-t.helpers.scrollLeft(),c+=t.$iframe.offset().top-t.helpers.scrollTop()),s.find("th, td").each(function(){var n=e(this);return n.offset().left<=o&&o<n.offset().left+n.outerWidth()/2?(r=parseInt(a.find("a").css("width"),10),a.css("top",c+n.offset().top-t.win.pageYOffset-r-5),a.css("left",l+n.offset().left-t.win.pageXOffset-r/2),a.data("selected-cell",n),a.data("position","before"),a.addClass("fr-visible"),!1):n.offset().left+n.outerWidth()/2<=o&&o<n.offset().left+n.outerWidth()?(r=parseInt(a.find("a").css("width"),10),a.css("top",c+n.offset().top-t.win.pageYOffset-r-5),a.css("left",l+n.offset().left+n.outerWidth()-t.win.pageXOffset-r/2),a.data("selected-cell",n),a.data("position","after"),a.addClass("fr-visible"),!1):void 0})}(n,e(s).closest("table")),!0;if(e(o=t.doc.elementFromPoint(n.pageX-t.win.pageXOffset+r,n.pageY-t.win.pageYOffset)).hasClass("fr-tooltip"))return!0;if(o&&("TH"==o.tagName||"TD"==o.tagName||"TABLE"==o.tagName)&&(e(o).parents(".fr-wrapper").length||t.opts.iframe))return function(n,i){if(t.$box.find(".fr-line-breaker").is(":visible"))return 0;a||H(),t.$box.append(a),a.data("instance",t);var r,s=e(i),o=n.pageY,l=0,c=0;t.opts.iframe&&(l+=t.$iframe.offset().left-t.helpers.scrollLeft(),c+=t.$iframe.offset().top-t.helpers.scrollTop()),s.find("tr").each(function(){var n=e(this);return n.offset().top<=o&&o<n.offset().top+n.outerHeight()/2?(r=parseInt(a.find("a").css("width"),10),a.css("top",c+n.offset().top-t.win.pageYOffset-r/2),a.css("left",l+n.offset().left-t.win.pageXOffset-r-5),a.data("selected-cell",n.find("td:first")),a.data("position","above"),a.addClass("fr-visible"),!1):n.offset().top+n.outerHeight()/2<=o&&o<n.offset().top+n.outerHeight()?(r=parseInt(a.find("a").css("width"),10),a.css("top",c+n.offset().top+n.outerHeight()-t.win.pageYOffset-r/2),a.css("left",l+n.offset().left-t.win.pageXOffset-r-5),a.data("selected-cell",n.find("td:first")),a.data("position","below"),a.addClass("fr-visible"),!1):void 0})}(n,e(o).closest("table")),!0}t.core.sameInstance(a)&&M()}}(i,r)}function $(){if(l){var e=n.data("table").offset().top-t.win.pageYOffset;t.opts.iframe&&(e+=t.$iframe.offset().top-t.helpers.scrollTop()),n.css("top",e)}}function P(t,n){var a,i=e(n[0][t]).outerWidth();for(a=1;a<n.length;a++)i=Math.min(i,e(n[a][t]).outerWidth());return i}function W(e,t,n){var a,i=0;for(a=e;a<=t;a++)i+=P(a,n);return i}function U(e){if(Y().length>1&&r&&T(),!1===r&&!1===i&&!1===l)o&&clearTimeout(o),t.edit.isDisabled()&&!t.popups.isVisible("table.edit")||(o=setTimeout(B,30,e));else if(l){var a=e.pageX-t.win.pageXOffset;t.opts.iframe&&(a+=t.$iframe.offset().left);var s=n.data("max-left"),c=n.data("max-right");a>=s&&a<=c?n.css("left",a-t.opts.tableResizerOffset):a<s&&parseFloat(n.css("left"),10)>s-t.opts.tableResizerOffset?n.css("left",s-t.opts.tableResizerOffset):a>c&&parseFloat(n.css("left"),10)<c-t.opts.tableResizerOffset&&n.css("left",c-t.opts.tableResizerOffset)}else r&&M()}function z(n){t.node.isEmpty(n.get(0))?n.prepend(e.FE.MARKERS):n.prepend(e.FE.START_MARKER).append(e.FE.END_MARKER)}function H(){t.shared.$ti_helper||(t.shared.$ti_helper=e('<div class="fr-insert-helper"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+t.language.translate("Insert")+'"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a></div>'),t.events.bindClick(t.shared.$ti_helper,"a",function(){var e=a.data("selected-cell"),n=a.data("position"),i=a.data("instance")||t;"before"==n?(e.addClass("fr-selected-cell"),i.table.insertColumn(n),e.removeClass("fr-selected-cell")):"after"==n?(e.addClass("fr-selected-cell"),i.table.insertColumn(n),e.removeClass("fr-selected-cell")):"above"==n?(e.addClass("fr-selected-cell"),i.table.insertRow(n),e.removeClass("fr-selected-cell")):"below"==n&&(e.addClass("fr-selected-cell"),i.table.insertRow(n),e.removeClass("fr-selected-cell")),M()}),t.events.on("shared.destroy",function(){t.shared.$ti_helper.html("").removeData().remove(),t.shared.$ti_helper=null},!0),t.events.$on(t.shared.$ti_helper,"mousemove",function(e){e.stopPropagation()},!0),t.events.$on(e(t.o_win),"scroll",function(){M()},!0),t.events.$on(t.$wp,"scroll",function(){M()},!0)),a=t.shared.$ti_helper,t.events.on("destroy",function(){a=null}),t.tooltip.bind(t.$box,".fr-insert-helper > a.fr-floating-btn")}function V(){s=null,clearTimeout(o)}function Y(){return t.el.querySelectorAll(".fr-selected-cell")}function j(){var n=Y();if(n.length){for(var a=n[0];a&&"TABLE"!=a.tagName&&a.parentNode!=t.el;)a=a.parentNode;return e(a&&"TABLE"==a.tagName?a:[])}return e([])}return{_init:function(){if(!t.$wp)return!1;if(!t.helpers.isMobile()){r=!1,i=!1,l=!1,t.events.$on(t.$el,"mousedown",O),t.popups.onShow("image.edit",function(){C(),r=!1,i=!1}),t.popups.onShow("link.edit",function(){C(),r=!1,i=!1}),t.events.on("commands.mousedown",function(e){e.parents(".fr-toolbar").length>0&&C()}),t.events.$on(t.$el,"mouseenter","th, td",N),t.events.$on(t.$win,"mouseup",F),t.opts.iframe&&t.events.$on(e(t.o_win),"mouseup",F),t.events.$on(t.$win,"mousemove",U),t.events.$on(e(t.o_win),"scroll",$),t.events.on("contentChanged",function(){Y().length>0&&(c(),t.$el.find("img").on("load.selected-cells",function(){e(this).off("load.selected-cells"),Y().length>0&&c()}))}),t.events.$on(e(t.o_win),"resize",function(){C()}),t.events.on("toolbar.esc",function(){if(Y().length>0)return t.events.disableBlur(),t.events.focus(),!1},!0),t.events.$on(t.$el,"keydown",function(n){n.shiftKey?!1===function(n){var a=Y();if(a.length>0){var i,r,s=b(),o=n.which;1==a.length?r=i=a[0]:(i=t.el.querySelector(".fr-cell-fixed"),r=t.el.querySelector(".fr-cell-handler"));var l=E(r,s);if(e.FE.KEYCODE.ARROW_RIGHT==o){if(l.col<s[0].length-1)return R(i,s[l.row][l.col+1]),!1}else if(e.FE.KEYCODE.ARROW_DOWN==o){if(l.row<s.length-1)return R(i,s[l.row+1][l.col]),!1}else if(e.FE.KEYCODE.ARROW_LEFT==o){if(l.col>0)return R(i,s[l.row][l.col-1]),!1}else if(e.FE.KEYCODE.ARROW_UP==o&&l.row>0)return R(i,s[l.row-1][l.col]),!1}}(n)&&setTimeout(function(){c()},0):function(n){var a=n.which,i=t.selection.blocks();if(i.length&&("TD"==(i=i[0]).tagName||"TH"==i.tagName)){for(var r=i;r&&"TABLE"!=r.tagName&&r.parentNode!=t.el;)r=r.parentNode;if(r&&"TABLE"==r.tagName&&(e.FE.KEYCODE.ARROW_LEFT==a||e.FE.KEYCODE.ARROW_UP==a||e.FE.KEYCODE.ARROW_RIGHT==a||e.FE.KEYCODE.ARROW_DOWN==a)&&(Y().length>0&&S(),t.browser.webkit&&(e.FE.KEYCODE.ARROW_UP==a||e.FE.KEYCODE.ARROW_DOWN==a))){var s=t.selection.ranges(0).startContainer;if(s.nodeType==Node.TEXT_NODE&&(e.FE.KEYCODE.ARROW_UP==a&&s.previousSibling||e.FE.KEYCODE.ARROW_DOWN==a&&s.nextSibling))return;n.preventDefault(),n.stopPropagation();var o=b(e(r)),l=E(i,o);return e.FE.KEYCODE.ARROW_UP==a?I(l,r,o):e.FE.KEYCODE.ARROW_DOWN==a&&K(l,r,o),t.selection.restore(),!1}}}(n)}),t.events.on("keydown",function(n){if(!1===function(n){if(n.which==e.FE.KEYCODE.TAB){var a;if(Y().length>0)a=t.$el.find(".fr-selected-cell:last");else{var i=t.selection.element();"TD"==i.tagName||"TH"==i.tagName?a=e(i):e(i).parentsUntil(t.$el,"td").length>0?a=e(i).parents("td:first"):e(i).parentsUntil(t.$el,"th").length>0&&(a=e(i).parents("th:first"))}if(a)return n.preventDefault(),e(t.selection.element()).parents("ol, ul").length>0||(S(),n.shiftKey?a.prev().length>0?z(a.prev()):a.closest("tr").length>0&&a.closest("tr").prev().length>0?z(a.closest("tr").prev().find("td:last")):a.closest("tbody").length>0&&a.closest("table").find("thead tr").length>0&&z(a.closest("table").find("thead tr th:last")):a.next().length>0?z(a.next()):a.closest("tr").length>0&&a.closest("tr").next().length>0?z(a.closest("tr").next().find("td:first")):a.closest("thead").length>0&&a.closest("table").find("tbody tr").length>0?z(a.closest("table").find("tbody tr td:first")):(a.addClass("fr-selected-cell"),g("below"),C(),z(a.closest("tr").next().find("td:first"))),t.selection.restore(),!1)}}(n))return!1;var a=Y();if(a.length>0){if(a.length>0&&t.keys.ctrlKey(n)&&n.which==e.FE.KEYCODE.A)return C(),t.popups.isVisible("table.edit")&&t.popups.hide("table.edit"),a=[],!0;if(n.which==e.FE.KEYCODE.ESC&&t.popups.isVisible("table.edit"))return C(),t.popups.hide("table.edit"),n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),a=[],!1;if(a.length>1&&n.which==e.FE.KEYCODE.BACKSPACE){t.undo.saveStep();for(var i=0;i<a.length;i++)e(a[i]).html("<br>"),i==a.length-1&&e(a[i]).prepend(e.FE.MARKERS);return t.selection.restore(),t.undo.saveStep(),a=[],!1}if(a.length>1&&n.which!=e.FE.KEYCODE.F10&&!t.keys.isBrowserAction(n))return n.preventDefault(),a=[],!1}else if(a=[],!1===function(n){if(n.altKey&&n.which==e.FE.KEYCODE.SPACE){var a,i=t.selection.element();if("TD"==i.tagName||"TH"==i.tagName?a=i:e(i).closest("td").length>0?a=e(i).closest("td").get(0):e(i).closest("th").length>0&&(a=e(i).closest("th").get(0)),a)return n.preventDefault(),R(a,a),c(),!1}}(n))return!1},!0);var n=[];t.events.on("html.beforeGet",function(){n=Y();for(var e=0;e<n.length;e++)n[e].className=(n[e].className||"").replace(/fr-selected-cell/g,"")}),t.events.on("html.afterGet",function(){for(var e=0;e<n.length;e++)n[e].className=(n[e].className?n[e].className.trim()+" ":"")+"fr-selected-cell";n=[]}),p(!0),h(!0)}t.events.on("destroy",V)},insert:function(n,a){var i,r,s='<table style="width: 100%;"><tbody>',o=100/a;for(i=0;i<n;i++){for(s+="<tr>",r=0;r<a;r++)s+='<td style="width: '+o.toFixed(4)+'%;">',0===i&&0===r&&(s+=e.FE.MARKERS),s+="<br></td>";s+="</tr>"}s+="</tbody></table>",t.html.insert(s),t.selection.restore()},remove:u,insertRow:g,deleteRow:function(){var n=j();if(n.length>0){var a,i,r,s=b(),o=y(s);if(0===o.min_i&&o.max_i==s.length-1)u();else{for(a=o.max_i;a>=o.min_i;a--){for(r=e(n.find("tr").not(n.find("table tr")).get(a)),i=0;i<s[a].length;i++)if(0===i||s[a][i]!=s[a][i-1]){var l,c,f=e(s[a][i]);if(parseInt(f.attr("rowspan"),10)>1){var p=parseInt(f.attr("rowspan"),10)-1;1==p?f.removeAttr("rowspan"):f.attr("rowspan",p)}if(a<s.length-1&&s[a][i]==s[a+1][i]&&(0===a||s[a][i]!=s[a-1][i])){for(var d=s[a][i],h=i;h>0&&s[a][h]==s[a][h-1];)h--;0===h?e(n.find("tr").not(n.find("table tr")).get(a+1)).prepend(d):e(s[a+1][h-1]).after(d)}}var g=r.parent();r.remove(),0===g.find("tr").length&&g.remove(),s=b(n)}l=s.length-1,c=s[0].length-1,_(0,l,n),m(0,c,n),o.min_i>0?t.selection.setAtEnd(s[o.min_i-1][0]):t.selection.setAtEnd(s[0][0]),t.selection.restore(),t.popups.hide("table.edit")}}},insertColumn:function(n){var a=j();if(a.length>0){var i,r=b(),s=y(r);i="before"==n?s.min_j:s.max_j;var o,l=100/r[0].length,f=100/(r[0].length+1);a.find("th, td").each(function(){(o=e(this)).data("old-width",o.outerWidth()/a.outerWidth()*100)}),a.find("tr").not(a.find("table tr")).each(function(t){for(var a,s,o=e(this),c=0,p=0;c-1<i;){if(!(s=o.find("> th, > td").get(p))){s=null;break}s==r[t][c]?(c+=parseInt(e(s).attr("colspan"),10)||1,p++):(c+=parseInt(e(r[t][c]).attr("colspan"),10)||1,"after"==n&&(s=0===p?-1:o.find("> th, > td").get(p-1)))}var d=e(s);if("after"==n&&c-1>i||"before"==n&&i>0&&r[t][i]==r[t][i-1]){if(0===t||t>0&&r[t][i]!=r[t-1][i]){var h=parseInt(d.attr("colspan"),10)+1;d.attr("colspan",h),d.css("width",(d.data("old-width")*f/l+f).toFixed(4)+"%"),d.removeData("old-width")}}else a=o.find("th").length>0?'<th style="width: '+f.toFixed(4)+'%;"><br></th>':'<td style="width: '+f.toFixed(4)+'%;"><br></td>',-1==s?o.prepend(a):null==s?o.append(a):"before"==n?d.before(a):"after"==n&&d.after(a)}),a.find("th, td").each(function(){(o=e(this)).data("old-width")&&(o.css("width",(o.data("old-width")*f/l).toFixed(4)+"%"),o.removeData("old-width"))}),t.popups.isVisible("table.edit")&&c()}},deleteColumn:function(){var n=j();if(n.length>0){var a,i,r,s=b(),o=y(s);if(0===o.min_j&&o.max_j==s[0].length-1)u();else{var l,c,f=100/s[0].length,p=100/(s[0].length-o.max_j+o.min_j-1);for(n.find("th, td").each(function(){(r=e(this)).hasClass("fr-selected-cell")||r.data("old-width",r.outerWidth()/n.outerWidth()*100)}),i=o.max_j;i>=o.min_j;i--)for(a=0;a<s.length;a++)if(0===a||s[a][i]!=s[a-1][i]){if((parseInt((r=e(s[a][i])).attr("colspan"),10)||1)>1){var d=parseInt(r.attr("colspan"),10)-1;1==d?r.removeAttr("colspan"):r.attr("colspan",d),r.css("width",((r.data("old-width")-P(i,s))*p/f).toFixed(4)+"%"),r.removeData("old-width")}else{var h=e(r.parent().get(0));r.remove(),0===h.find("> th, > td").length&&(0===h.prev().length||0===h.next().length||h.prev().find("> th[rowspan], > td[rowspan]").length<h.prev().find("> th, > td").length)&&h.remove()}}l=s.length-1,c=s[0].length-1,_(0,l,n),m(0,c,n),o.min_j>0?t.selection.setAtEnd(s[o.min_i][o.min_j-1]):t.selection.setAtEnd(s[o.min_i][0]),t.selection.restore(),t.popups.hide("table.edit"),n.find("th, td").each(function(){(r=e(this)).data("old-width")&&(r.css("width",(r.data("old-width")*p/f).toFixed(4)+"%"),r.removeData("old-width"))})}}},mergeCells:function(){if(Y().length>1&&(0===t.$el.find("th.fr-selected-cell").length||0===t.$el.find("td.fr-selected-cell").length)){k();var n,a,i=y(b()),r=t.$el.find(".fr-selected-cell"),s=e(r[0]),o=s.parent().find(".fr-selected-cell"),l=s.closest("table"),f=s.html(),p=0;for(n=0;n<o.length;n++)p+=e(o[n]).outerWidth();for(s.css("width",(p/l.outerWidth()*100).toFixed(4)+"%"),i.min_j<i.max_j&&s.attr("colspan",i.max_j-i.min_j+1),i.min_i<i.max_i&&s.attr("rowspan",i.max_i-i.min_i+1),n=1;n<r.length;n++)"<br>"!=(a=e(r[n])).html()&&""!==a.html()&&(f+="<br>"+a.html()),a.remove();s.html(f),t.selection.setAtEnd(s.get(0)),t.selection.restore(),t.toolbar.enable(),_(i.min_i,i.max_i,l);var d=l.find("tr:empty");for(n=d.length-1;n>=0;n--)e(d[n]).remove();m(i.min_j,i.max_j,l),c()}},splitCellVertically:function(){if(1==Y().length){var n,a=t.$el.find(".fr-selected-cell"),i=parseInt(a.attr("colspan"),10)||1,r=a.parent().outerWidth(),s=a.outerWidth(),o=a.clone().html("<br>"),l=b(),c=E(a.get(0),l);if(i>1){var f=Math.ceil(i/2);s=W(c.col,c.col+f-1,l)/r*100;var p=W(c.col+f,c.col+i-1,l)/r*100;f>1?a.attr("colspan",f):a.removeAttr("colspan"),i-f>1?o.attr("colspan",i-f):o.removeAttr("colspan"),a.css("width",s.toFixed(4)+"%"),o.css("width",p.toFixed(4)+"%")}else{for(n=0;n<l.length;n++)if(0===n||l[n][c.col]!=l[n-1][c.col]){var d=e(l[n][c.col]);if(!d.is(a)){var h=(parseInt(d.attr("colspan"),10)||1)+1;d.attr("colspan",h)}}s=s/r*100/2,a.css("width",s.toFixed(4)+"%"),o.css("width",s.toFixed(4)+"%")}a.after(o),C(),t.popups.hide("table.edit")}},splitCellHorizontally:function(){if(1==Y().length){var n=t.$el.find(".fr-selected-cell"),a=n.parent(),i=n.closest("table"),r=parseInt(n.attr("rowspan"),10),s=b(),o=E(n.get(0),s),l=n.clone().html("<br>");if(r>1){var c=Math.ceil(r/2);c>1?n.attr("rowspan",c):n.removeAttr("rowspan"),r-c>1?l.attr("rowspan",r-c):l.removeAttr("rowspan");for(var f=o.row+c,p=0===o.col?o.col:o.col-1;p>=0&&(s[f][p]==s[f][p-1]||f>0&&s[f][p]==s[f-1][p]);)p--;-1==p?e(i.find("tr").not(i.find("table tr")).get(f)).prepend(l):e(s[f][p]).after(l)}else{var d,h=e("<tr>").append(l);for(d=0;d<s[0].length;d++)if(0===d||s[o.row][d]!=s[o.row][d-1]){var u=e(s[o.row][d]);u.is(n)||u.attr("rowspan",(parseInt(u.attr("rowspan"),10)||1)+1)}a.after(h)}C(),t.popups.hide("table.edit")}},addHeader:function(){var t=j();if(t.length>0&&0===t.find("th").length){var n,a="<thead><tr>",i=0;for(t.find("tr:first > td").each(function(){var t=e(this);i+=parseInt(t.attr("colspan"),10)||1}),n=0;n<i;n++)a+="<th><br></th>";a+="</tr></thead>",t.prepend(a),c()}},removeHeader:function(){var e=j(),n=e.find("thead");if(n.length>0){if(0===e.find("tbody tr").length)u();else if(n.remove(),Y().length>0)c();else{t.popups.hide("table.edit");var a=e.find("tbody tr:first td:first").get(0);a&&(t.selection.setAtEnd(a),t.selection.restore())}}},setBackground:function(e){"REMOVE"!=e?t.$el.find(".fr-selected-cell").css("background-color",t.helpers.HEXtoRGB(e)):t.$el.find(".fr-selected-cell").css("background-color","")},showInsertPopup:function(){var e=t.$tb.find('.fr-command[data-cmd="insertTable"]'),n=t.popups.get("table.insert");if(n||(n=p()),!n.hasClass("fr-active")){t.popups.refresh("table.insert"),t.popups.setContainer("table.insert",t.$tb);var a=e.offset().left+e.outerWidth()/2,i=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("table.insert",a,i,e.outerHeight())}},showEditPopup:c,showColorsPopup:function n(){var a=b();if(a){var i,r,s,o,l,c=t.popups.get("table.colors");c||(i="",t.opts.tableColorsButtons.length>0&&(i='<div class="fr-buttons fr-table-colors-buttons">'+t.button.buildList(t.opts.tableColorsButtons)+"</div>"),r={buttons:i,colors:function(){for(var e='<div class="fr-table-colors">',n=0;n<t.opts.tableColors.length;n++)0!==n&&n%t.opts.tableColorsStep==0&&(e+="<br>"),"REMOVE"!=t.opts.tableColors[n]?e+='<span class="fr-command" style="background: '+t.opts.tableColors[n]+';" tabIndex="-1" role="button" data-cmd="tableCellBackgroundColor" data-param1="'+t.opts.tableColors[n]+'"><span class="fr-sr-only">'+t.language.translate("Color")+" "+t.opts.tableColors[n]+"&nbsp;&nbsp;&nbsp;</span></span>":e+='<span class="fr-command" data-cmd="tableCellBackgroundColor" tabIndex="-1" role="button" data-param1="REMOVE" title="'+t.language.translate("Clear Formatting")+'">'+t.icon.create("tableColorRemove")+'<span class="fr-sr-only">'+t.language.translate("Clear Formatting")+"</span></span>";return e+"</div>"}()},s=t.popups.create("table.colors",r),t.events.$on(t.$wp,"scroll.table-colors",function(){t.popups.isVisible("table.colors")&&n()}),t.events.on("popup.tab",function(n){var a=e(n.currentTarget);if(!t.popups.isVisible("table.colors")||!a.is("span"))return!0;var i=n.which,r=!0;if(e.FE.KEYCODE.TAB==i){var o=s.find(".fr-buttons");r=!t.accessibility.focusToolbar(o,!!n.shiftKey)}else if(e.FE.KEYCODE.ARROW_UP==i||e.FE.KEYCODE.ARROW_DOWN==i||e.FE.KEYCODE.ARROW_LEFT==i||e.FE.KEYCODE.ARROW_RIGHT==i){var l=a.parent().find("span.fr-command"),c=l.index(a),f=t.opts.colorsStep,p=Math.floor(l.length/f),d=Math.floor(c/f)*f+c%f,h=p*f;e.FE.KEYCODE.ARROW_UP==i?d=((d-f)%h+h)%h:e.FE.KEYCODE.ARROW_DOWN==i?d=(d+f)%h:e.FE.KEYCODE.ARROW_LEFT==i?d=((d-1)%h+h)%h:e.FE.KEYCODE.ARROW_RIGHT==i&&(d=(d+1)%h);var u=e(l.get(d));t.events.disableBlur(),u.focus(),r=!1}else e.FE.KEYCODE.ENTER==i&&(t.button.exec(a),r=!1);return!1===r&&(n.preventDefault(),n.stopPropagation()),r},!0),c=s),t.popups.setContainer("table.colors",t.$sc);var f=x(a),p=(f.left+f.right)/2,d=f.bottom;o=t.popups.get("table.colors"),l=t.$el.find(".fr-selected-cell:first"),o.find(".fr-selected-color").removeClass("fr-selected-color fr-active-item"),o.find('span[data-param1="'+t.helpers.RGBToHex(l.css("background-color"))+'"]').addClass("fr-selected-color fr-active-item"),t.popups.show("table.colors",p,d,f.bottom-f.top)}},back:function(){Y().length>0?c():(t.popups.hide("table.insert"),t.toolbar.showInline())},verticalAlign:function(e){t.$el.find(".fr-selected-cell").css("vertical-align",e)},horizontalAlign:function(e){t.$el.find(".fr-selected-cell").css("text-align",e)},applyStyle:function(e,t,n,a){if(t.length>0){if(!n){var i=Object.keys(a);i.splice(i.indexOf(e),1),t.removeClass(i.join(" "))}t.toggleClass(e)}},selectedTable:j,selectedCells:Y}},e.FE.DefineIcon("insertTable",{NAME:"table"}),e.FE.RegisterCommand("insertTable",{title:"Insert Table",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("table.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("table.insert")):this.table.showInsertPopup()},plugin:"table"}),e.FE.RegisterCommand("tableInsert",{callback:function(e,t,n){this.table.insert(t,n),this.popups.hide("table.insert")}}),e.FE.DefineIcon("tableHeader",{NAME:"header"}),e.FE.RegisterCommand("tableHeader",{title:"Table Header",focus:!1,toggle:!0,callback:function(){this.popups.get("table.edit").find('.fr-command[data-cmd="tableHeader"]').hasClass("fr-active")?this.table.removeHeader():this.table.addHeader()},refresh:function(e){var t=this.table.selectedTable();t.length>0&&(0===t.find("th").length?e.removeClass("fr-active").attr("aria-pressed",!1):e.addClass("fr-active").attr("aria-pressed",!0))}}),e.FE.DefineIcon("tableRows",{NAME:"bars"}),e.FE.RegisterCommand("tableRows",{type:"dropdown",focus:!1,title:"Row",options:{above:"Insert row above",below:"Insert row below",delete:"Delete row"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableRows.options;for(var a in n)n.hasOwnProperty(a)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableRows" data-param1="'+a+'" title="'+this.language.translate(n[a])+'">'+this.language.translate(n[a])+"</a></li>");return t+"</ul>"},callback:function(e,t){"above"==t||"below"==t?this.table.insertRow(t):this.table.deleteRow()}}),e.FE.DefineIcon("tableColumns",{NAME:"bars fa-rotate-90"}),e.FE.RegisterCommand("tableColumns",{type:"dropdown",focus:!1,title:"Column",options:{before:"Insert column before",after:"Insert column after",delete:"Delete column"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableColumns.options;for(var a in n)n.hasOwnProperty(a)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableColumns" data-param1="'+a+'" title="'+this.language.translate(n[a])+'">'+this.language.translate(n[a])+"</a></li>");return t+"</ul>"},callback:function(e,t){"before"==t||"after"==t?this.table.insertColumn(t):this.table.deleteColumn()}}),e.FE.DefineIcon("tableCells",{NAME:"square-o"}),e.FE.RegisterCommand("tableCells",{type:"dropdown",focus:!1,title:"Cell",options:{merge:"Merge cells","vertical-split":"Vertical split","horizontal-split":"Horizontal split"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableCells.options;for(var a in n)n.hasOwnProperty(a)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCells" data-param1="'+a+'" title="'+this.language.translate(n[a])+'">'+this.language.translate(n[a])+"</a></li>");return t+"</ul>"},callback:function(e,t){"merge"==t?this.table.mergeCells():"vertical-split"==t?this.table.splitCellVertically():this.table.splitCellHorizontally()},refreshOnShow:function(e,t){this.$el.find(".fr-selected-cell").length>1?(t.find('a[data-param1="vertical-split"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="horizontal-split"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="merge"]').removeClass("fr-disabled").attr("aria-disabled",!1)):(t.find('a[data-param1="merge"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="vertical-split"]').removeClass("fr-disabled").attr("aria-disabled",!1),t.find('a[data-param1="horizontal-split"]').removeClass("fr-disabled").attr("aria-disabled",!1))}}),e.FE.DefineIcon("tableRemove",{NAME:"trash"}),e.FE.RegisterCommand("tableRemove",{title:"Remove Table",focus:!1,callback:function(){this.table.remove()}}),e.FE.DefineIcon("tableStyle",{NAME:"paint-brush"}),e.FE.RegisterCommand("tableStyle",{title:"Table Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.tableStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableStyle" data-param1="'+n+'" title="'+this.language.translate(t[n])+'">'+this.language.translate(t[n])+"</a></li>");return e+"</ul>"},callback:function(e,t){this.table.applyStyle(t,this.$el.find(".fr-selected-cell").closest("table"),this.opts.tableMultipleStyles,this.opts.tableStyles)},refreshOnShow:function(t,n){var a=this.$el.find(".fr-selected-cell").closest("table");a&&n.find(".fr-command").each(function(){var t=e(this).data("param1"),n=a.hasClass(t);e(this).toggleClass("fr-active",n).attr("aria-selected",n)})}}),e.FE.DefineIcon("tableCellBackground",{NAME:"tint"}),e.FE.RegisterCommand("tableCellBackground",{title:"Cell Background",focus:!1,popup:!0,callback:function(){this.table.showColorsPopup()}}),e.FE.RegisterCommand("tableCellBackgroundColor",{undo:!0,focus:!1,callback:function(e,t){this.table.setBackground(t)}}),e.FE.DefineIcon("tableBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("tableBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.table.back()},refresh:function(e){0!==this.table.selectedCells().length||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.DefineIcon("tableCellVerticalAlign",{NAME:"arrows-v"}),e.FE.RegisterCommand("tableCellVerticalAlign",{type:"dropdown",focus:!1,title:"Vertical Align",options:{Top:"Align Top",Middle:"Align Middle",Bottom:"Align Bottom"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableCellVerticalAlign.options;for(var a in n)n.hasOwnProperty(a)&&(t+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellVerticalAlign" data-param1="'+a.toLowerCase()+'" title="'+this.language.translate(n[a])+'">'+this.language.translate(a)+"</a></li>");return t+"</ul>"},callback:function(e,t){this.table.verticalAlign(t)},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.$el.find(".fr-selected-cell").css("vertical-align")+'"]').addClass("fr-active").attr("aria-selected",!0)}}),e.FE.DefineIcon("tableCellHorizontalAlign",{NAME:"align-left"}),e.FE.DefineIcon("align-left",{NAME:"align-left"}),e.FE.DefineIcon("align-right",{NAME:"align-right"}),e.FE.DefineIcon("align-center",{NAME:"align-center"}),e.FE.DefineIcon("align-justify",{NAME:"align-justify"}),e.FE.RegisterCommand("tableCellHorizontalAlign",{type:"dropdown",focus:!1,title:"Horizontal Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var t='<ul class="fr-dropdown-list" role="presentation">',n=e.FE.COMMANDS.tableCellHorizontalAlign.options;for(var a in n)n.hasOwnProperty(a)&&(t+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="tableCellHorizontalAlign" data-param1="'+a+'" title="'+this.language.translate(n[a])+'">'+this.icon.create("align-"+a)+'<span class="fr-sr-only">'+this.language.translate(n[a])+"</span></a></li>");return t+"</ul>"},callback:function(e,t){this.table.horizontalAlign(t)},refresh:function(t){var n=this.table.selectedCells();n.length&&t.find("> *:first").replaceWith(this.icon.create("align-"+this.helpers.getAlignment(e(n[0]))))},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.helpers.getAlignment(this.$el.find(".fr-selected-cell:first"))+'"]').addClass("fr-active").attr("aria-selected",!0)}}),e.FE.DefineIcon("tableCellStyle",{NAME:"magic"}),e.FE.RegisterCommand("tableCellStyle",{title:"Cell Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.tableCellStyles;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellStyle" data-param1="'+n+'" title="'+this.language.translate(t[n])+'">'+this.language.translate(t[n])+"</a></li>");return e+"</ul>"},callback:function(e,t){this.table.applyStyle(t,this.$el.find(".fr-selected-cell"),this.opts.tableCellMultipleStyles,this.opts.tableCellStyles)},refreshOnShow:function(t,n){var a=this.$el.find(".fr-selected-cell:first");a&&n.find(".fr-command").each(function(){var t=e(this).data("param1"),n=a.hasClass(t);e(this).toggleClass("fr-active",n).attr("aria-selected",n)})}}),e.FE.DefineIcon("tableColorRemove",{NAME:"eraser"})})?a.apply(t,i):a)&&(e.exports=r)},68059:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.FE.URLRegEx="(^| |\\u00A0)("+e.FE.LinkRegEx+"|([a-z0-9+-_.]{1,}@[a-z0-9+-_.]{1,}))$",e.FE.PLUGINS.url=function(t){function n(n,a,i){var s=i;return t.opts.linkConvertEmailAddress&&e.FE.MAIL_REGEX.test(s)&&!/^mailto:.*/i.test(s)&&(s="mailto:"+s),/^((http|https|ftp|ftps|mailto|tel|sms|notes|data)\:)/i.test(s)||(s="//"+s),(a||"")+"<a"+(t.opts.linkAlwaysBlank?' target="_blank"':"")+(r?' rel="'+r+'"':"")+' href="'+s+'">'+i+"</a>"}function a(){return RegExp(e.FE.URLRegEx,"gi")}function i(e){return t.opts.linkAlwaysNoFollow&&(r="nofollow"),t.opts.linkAlwaysBlank&&(r?r+=" noopener noreferrer":r="noopener noreferrer"),e.replace(a(),n)}var r=null;return{_init:function(){t.events.on("paste.afterCleanup",function(t){if(RegExp(e.FE.URLRegEx,"gi").test(t))return i(t)}),t.events.on("keydown",function(n){var r=n.which;t.selection.isCollapsed()&&(r==e.FE.KEYCODE.ENTER||r==e.FE.KEYCODE.SPACE||r==e.FE.KEYCODE.PERIOD)&&function(){var n=t.selection.ranges(0).startContainer;if(!(!n||n.nodeType!==Node.TEXT_NODE||function e(n){return!!n&&("A"===n.tagName||!(!n.parentNode||n.parentNode==t.el)&&e(n.parentNode))}(n))){if(a().test(n.textContent))e(n).before(i(n.textContent)),n.parentNode.removeChild(n);else if(n.previousSibling&&"A"===n.previousSibling.tagName){var r=n.previousSibling.innerText+n.textContent;a().test(r)&&(e(n.previousSibling).replaceWith(i(r)),n.parentNode.removeChild(n))}}}()},!0)}}}})?a.apply(t,i):a)&&(e.exports=r)},39559:function(e,t,n){var a,i,r;i=[n(19755)],void 0!==(r="function"==typeof(a=function(e){e.extend(e.FE.DEFAULTS,{lineHeights:{Default:"",Single:"1",1.15:"1.15",1.5:"1.5",Double:"2"}}),e.FE.PLUGINS.lineHeight=function(t){return{_init:function(){},apply:function(n){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore();var a=t.selection.blocks();a.length&&e(a[0]).parent().is("td")&&t.format.applyStyle("line-height",n.toString()),t.selection.save();for(var i=0;i<a.length;i++)e(a[i]).css("line-height",n),""===e(a[i]).attr("style")&&e(a[i]).removeAttr("style");t.html.unwrap(),t.selection.restore()},refreshOnShow:function(n,a){var i=t.selection.blocks();if(i.length){var r=e(i[0]);a.find(".fr-command").each(function(){var t=e(this).data("param1"),n=0<=(r.attr("style")||"").indexOf("line-height: "+t+";");e(this).toggleClass("fr-active",n).attr("aria-selected",n)})}}}},e.FE.RegisterCommand("lineHeight",{type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.lineHeights;for(var n in t)t.hasOwnProperty(n)&&(e+='<li role="presentation"><a class="fr-command '+n+'" tabIndex="-1" role="option" data-cmd="lineHeight" data-param1="'+t[n]+'" title="'+this.language.translate(n)+'">'+this.language.translate(n)+"</a></li>");return e+"</ul>"},title:"Line Height",callback:function(e,t){this.lineHeight.apply(t)},refreshOnShow:function(e,t){this.lineHeight.refreshOnShow(e,t)},plugin:"lineHeight"}),e.FE.DefineIcon("lineHeight",{NAME:"arrows-v",FA5NAME:"arrows-alt-v"})})?a.apply(t,i):a)&&(e.exports=r)}}]);