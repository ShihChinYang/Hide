(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1335],{98284:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/services/payment",function(){return a(9698)}])},9698:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return g}});var t=a(85893),n=a(67294),r=a(9473),l=a(11163),d=a(10682),c=a(34051),i=a(31555),o=a(13137),h=a(94562),x=a(35005),u=a(75147),y=a(42298),j=a(31243),f=a(43385),p=a(17384),m=a(49486);function g(){let e,s,a;let g=(0,l.useRouter)(),D=(0,r.I0)(),[w,N]=(0,n.useState)("yearly"),b=(0,r.v9)(e=>e.auth.isLoggedIn),M=(0,r.v9)(e=>e.account.invoice),v=(0,r.v9)(e=>e.account.transactions),Z=M&&M.dueTime,C=M&&M.dues,$=M&&M.planOptions,k=M&&M.monthlyInvoice.storageUsage,E=M&&M.monthlyInvoice.requiredStorage,I=M&&M.monthlyInvoice.monthlyPrice,F=M&&M.monthlyInvoice.currency,S=M&&M.remainingDays,T=M&&M.upgradePrice,_=M&&M.waived;0===k?e="0.000 MB":k&&(e=k<1e6?(k/1e6).toFixed(3)+" MB":(k/1e9).toFixed(3)+" GB"),$&&(s=$.monthly.firstDue===$.monthly.lastDue?(0,y.default)(new Date($.monthly.firstDue),"MM/dd/yyyy"):"".concat((0,y.default)(new Date($.monthly.firstDue),"MM/dd/yyyy")," ... ").concat((0,y.default)(new Date($.monthly.lastDue),"MM/dd/yyyy")),a=$.yearly.firstDue===$.yearly.lastDue?"".concat((0,y.default)(new Date($.yearly.firstDue),"MM/dd/yyyy")):"".concat((0,y.default)(new Date($.yearly.firstDue),"MM/dd/yyyy")," ... ").concat((0,y.default)(new Date($.yearly.lastDue),"MM/dd/yyyy"))),(0,m.qu)(!0,"dues",C);let P=C&&0!==C.length&&C.reverse().map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,y.default)(new Date(e.dueTime),"MM/dd/yyyy")}),(0,t.jsx)("td",{children:e.monthlyInvoice.requiredStorage}),(0,t.jsxs)("td",{children:["$",e.monthlyInvoice.monthlyPrice]})]},s)),U=0!==v.length&&v.map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,y.default)(new Date(e.time),"MM/dd/yyyy")}),(0,t.jsx)("td",{children:"$".concat(e.amount," ").concat(e.currency)}),(0,t.jsxs)("td",{children:[e.requiredStorage,", ",e.plan]}),"upgrade"===e.plan?(0,t.jsx)("td",{}):(0,t.jsx)("td",{children:e.firstDue===e.lastDue?(0,y.default)(new Date(e.firstDue),"MM/dd/yyyy"):"".concat((0,y.default)(new Date(e.firstDue),"MM/dd/yyyy")," - ").concat((0,y.default)(new Date(e.lastDue),"MM/dd/yyyy"))})]},s)),B=e=>{N(e.target.value)},O=e=>{(0,m.qu)(!0,"transactionWebCall",e),"ok"===e.status&&alert("ok"),D((0,p.Xz)(f.op.IOSInAppPurchase)),D((0,p.cK)({transaction:e.transaction}))};return(0,n.useEffect)(()=>{b&&(D((0,p.OC)()),D((0,p.c1)()),window.bsafesNative.transactionWebCall=O)},[b]),(0,t.jsx)(j.Z,{children:(0,t.jsxs)(d.Z,{className:"px-4",children:[(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),C&&(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Z,{children:(0,t.jsxs)(i.Z,{xs:{span:12,offset:0},md:{span:8,offset:2},style:{border:"solid",paddingTop:"12px",backgroundColor:"#FEF9E7"},children:[(0,t.jsxs)("p",{className:"fw-light",children:[(0,t.jsx)("i",{className:"fa fa-dot-circle-o","aria-hidden":"true"})," Your current storage usage is ",(0,t.jsx)("span",{className:"fw-bold",children:e}),". "]}),(0,t.jsxs)("p",{className:"fw-light",children:[(0,t.jsx)("i",{className:"fa fa-dot-circle-o","aria-hidden":"true"})," You need the ",(0,t.jsx)("span",{className:"fw-bold",children:E})," storage, ",(0,t.jsxs)("span",{className:"fw-bold",children:["$",I," USD"]})," per month."]}),0===C.length&&(0,t.jsxs)("p",{className:"fw-light",children:[(0,t.jsx)("i",{className:"fa fa-dot-circle-o","aria-hidden":"true"})," Next due date is ",(0,t.jsx)("span",{className:"fw-bold",children:(0,y.default)(new Date(Z),"MM/dd/yyyy")})]})]})}),0!==C.length&&(0,t.jsx)(c.Z,{children:(0,t.jsxs)(i.Z,{xs:{span:12,offset:0},md:{span:8,offset:2},style:{border:"solid",paddingTop:"12px",backgroundColor:"#EBF5FB"},children:[(0,t.jsx)("hr",{}),(0,t.jsx)("h1",{children:"Invoice"}),(0,t.jsxs)(u.Z,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Date"}),(0,t.jsx)("th",{children:"Storage(GB)"}),(0,t.jsx)("th",{children:"Due(USD)"})]})}),(0,t.jsx)("tbody",{children:P})]}),(0,t.jsx)("hr",{}),(0,t.jsxs)("h1",{children:["Total : ","$".concat($.monthly.totalDues," USD")]})]})}),0!==C.length&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(c.Z,{children:(0,t.jsxs)(i.Z,{xs:{span:12,offset:0},md:{span:8,offset:2},children:[(0,t.jsx)(o.Z,{children:(0,t.jsxs)(o.Z.Group,{controlId:"plan",children:[(0,t.jsx)("hr",{}),(0,t.jsxs)(h.Z,{children:[(0,t.jsx)(h.Z.Input,{type:"radio",value:"yearly",onChange:B,checked:"yearly"===w}),(0,t.jsx)(h.Z.Label,{children:(0,t.jsx)("h5",{className:"px-3",style:{backgroundColor:"#48C9B0"},children:"Pay yearly, get 2 months free."})})]}),(0,t.jsx)("br",{}),(0,t.jsx)("h4",{className:"px-4",children:$&&"$".concat($.yearly.totalDues," USD.")}),(0,t.jsx)("br",{}),(0,t.jsx)("p",{children:$&&"For ".concat(a,".")}),(0,t.jsx)("p",{children:$&&"Next due date:  ".concat((0,y.default)(new Date($.yearly.nextDueTime),"MM/dd/yyyy"))}),(0,t.jsx)("hr",{}),(0,t.jsxs)(h.Z,{children:[(0,t.jsx)(h.Z.Input,{type:"radio",value:"monthly",onChange:B,checked:"monthly"===w}),(0,t.jsx)(h.Z.Label,{children:(0,t.jsx)("h5",{className:"px-3",style:{backgroundColor:"#F7DC6F"},children:"Pay monthly."})})]}),(0,t.jsx)("br",{}),(0,t.jsx)("h4",{className:"px-4",children:$&&"$".concat($.monthly.totalDues," USD.")}),(0,t.jsx)("br",{}),(0,t.jsx)("p",{children:$&&"For ".concat(s,".")}),(0,t.jsx)("p",{children:$&&"Next due date:  ".concat((0,y.default)(new Date($.monthly.nextDueTime),"MM/dd/yyyy"))}),(0,t.jsx)("hr",{})]})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(x.Z,{onClick:e=>{D((0,p.rC)(w)),D((0,p.z8)(f.op.IOSInAppPurchase))},href:"/services/checkout?"+$[w].planId,children:"Checkout"})})]})})})]}),T&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(c.Z,{children:(0,t.jsxs)(i.Z,{xs:{span:12,offset:0},md:{span:8,offset:2},style:{border:"solid",paddingTop:"12px",backgroundColor:"#FEF9E7"},children:[(0,t.jsxs)("p",{className:"fw-light",children:[(0,t.jsx)("i",{className:"fa fa-dot-circle-o","aria-hidden":"true"})," Your current storage usage is ",(0,t.jsx)("span",{className:"fw-bold",children:e}),". "]}),(0,t.jsxs)("p",{className:"fw-light",children:[(0,t.jsx)("i",{className:"fa fa-dot-circle-o","aria-hidden":"true"})," You need the ",E," storage, ",(0,t.jsxs)("span",{className:"fw-bold",children:["$",I]})," USD per month."]}),(0,t.jsxs)("p",{className:"fw-light",children:[(0,t.jsx)("i",{className:"fa fa-dot-circle-o","aria-hidden":"true"})," Next due date is ",(0,t.jsx)("span",{className:"fw-bold",children:(0,y.default)(new Date(Z),"MM/dd/yyyy")})]}),(0,t.jsxs)("p",{className:"fw-light",children:[(0,t.jsx)("i",{className:"fa fa-dot-circle-o","aria-hidden":"true"})," Upgrade price for the remaining ",(0,t.jsx)("span",{className:"fw-bold",children:S})," days until the next due date - "]}),(0,t.jsx)("h5",{className:"p-3",children:"$".concat(T," ").concat(F.toUpperCase())}),_?(0,t.jsx)("h5",{children:"\uD83D\uDE42 The fee is waived because it is less than one dollar."}):(0,t.jsx)(c.Z,{children:(0,t.jsx)(i.Z,{sm:{span:8,offset:2},className:"text-center",children:(0,t.jsx)(x.Z,{onClick:e=>{D((0,p.rC)("upgrade")),g.push("/services/checkout")},children:"Upgrade"})})})]})})}),(0,t.jsx)("br",{}),(0,t.jsx)(c.Z,{children:(0,t.jsxs)(i.Z,{xs:{span:12,offset:0},md:{span:8,offset:2},style:{border:"solid",paddingTop:"12px",backgroundColor:"#EAEDED",overflow:"auto"},children:[(0,t.jsx)("h1",{children:"Transaction History"}),(0,t.jsxs)(u.Z,{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Date"}),(0,t.jsx)("th",{children:"Amount"}),(0,t.jsx)("th",{children:"Plan"}),(0,t.jsx)("th",{children:"Paid Dues"})]})}),0!==v.length&&(0,t.jsx)("tbody",{children:U})]}),0===v.length&&(0,t.jsx)("p",{children:"Empty"})]})}),(0,t.jsx)("br",{})]})})}},75147:function(e,s,a){"use strict";var t=a(94184),n=a.n(t),r=a(67294),l=a(76792),d=a(85893);let c=r.forwardRef(({bsPrefix:e,className:s,striped:a,bordered:t,borderless:r,hover:c,size:i,variant:o,responsive:h,...x},u)=>{let y=(0,l.vE)(e,"table"),j=n()(s,y,o&&`${y}-${o}`,i&&`${y}-${i}`,a&&`${y}-${"string"==typeof a?`striped-${a}`:"striped"}`,t&&`${y}-bordered`,r&&`${y}-borderless`,c&&`${y}-hover`),f=(0,d.jsx)("table",{...x,className:j,ref:u});if(h){let e=`${y}-responsive`;return"string"==typeof h&&(e=`${e}-${h}`),(0,d.jsx)("div",{className:e,children:f})}return f});s.Z=c}},function(e){e.O(0,[6760,1243,9774,2888,179],function(){return e(e.s=98284)}),_N_E=e.O()}]);